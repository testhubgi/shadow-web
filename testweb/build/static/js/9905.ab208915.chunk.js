"use strict";(self.webpackChunkapp_web_react=self.webpackChunkapp_web_react||[]).push([[9905,4220],{65785:function(e,t){t.Z={primary:"rgba(125, 43, 233, 1)",accent:"#FFC107"}},89905:function(e,t,r){r.r(t);var o=r(74165),n=r(15861),i=r(70885),s=r(72791),a=r(78312),d=r(26686),l=r(18227),m=r(74222),c=r(60961),p=r(73528),f=r.n(p),u=r(20601),h=r(65163),y=r(90466),v=r(12891),x=r(82839),w=r(35667),Z=r(22955),j=r(763),g=r.n(j),b=r(59513),D=r.n(b),C=(r(68639),r(84234)),S=r(70084),P=r(65785),z=r(4200),F=r(80184),B=.35*window.screen.height,Y=function(e){var t=e.type,r=e.range,m=e.id,c=e.role,p=e.fromdate,j=e.todate,b=(0,s.useState)({}),D=(0,i.Z)(b,2),C=D[0],Y=D[1];(0,s.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,o.Z)().mark((function e(){var n,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(z.T5+"/analytics/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,range:r,id:m,role:c,fromdate:p,todate:j})});case 3:return n=e.sent,e.next=6,n.json();case 6:return i=e.sent,Y(i),e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();(0,n.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:case"end":return t.stop()}}),t)})))()}),[r,p,j,m,c,t]);var _="";"properties"===t?_="Properties Added":"mailers"===t?_="Mails Sent":"emails"===t?_="Emails Sent":"investments"===t?_="Total Investments":"milesdriven"===t?_="Miles Driven":"timedriven"===t&&(_="Time Driven");var M=C&&C.data&&C.data.data||[],k=C&&C.data&&C.data.curr,T=C&&C.data&&C.data.prev,W=k?f()(k.start).format("MMM DD, YYYY")+" - "+f()(k.end).format("MMM DD, YYYY"):"-",O=T?f()(T.start).format("MMM DD, YYYY")+" - "+f()(T.end).format("MMM DD, YYYY"):"-",E=k&&k.total||0,I=T&&T.total||0,L=0;return 0===E||0===I?L=0:E!==I&&(L=(0,S.zz)(I,E)),"investments"===t&&(E=E.toFixed(2),I=I.toFixed(2)),(0,F.jsxs)(a.Z,{style:{borderRadius:(0,S.vw)(10),boxShadow:"0px 3px 10px #0000001A",width:"100%",height:B,marginVertical:(0,S.vh)(20),padding:(0,S.vh)(20),backgroundColor:"white"},children:[(0,F.jsxs)(d.Z,{style:{zIndex:-1,position:"relative"},justifyContent:"space-between",children:[(0,F.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:(0,S.vw)(24),color:"#000000"},children:_}),(0,F.jsxs)(d.Z,{justifyContent:"flex-end",children:[(0,F.jsx)(l.Z,{style:{fontSize:21,marginTop:(0,S.vh)(-1),fontFamily:"Poppins_medium",color:L>=0?P.Z.primary:"rgba(0,0,0,0.8)"},children:L>0?String.fromCharCode(8593):L<0?String.fromCharCode(8595):""}),(0,F.jsx)(l.Z,{style:{fontSize:24,fontFamily:"Poppins_medium",color:L>=0?P.Z.primary:"rgba(0,0,0,0.5)",marginLeft:(0,S.vw)(5)},children:L+"%"})]})]}),(0,F.jsxs)(d.Z,{justifyContent:"space-between",children:[(0,F.jsx)(l.Z,{style:{fontSize:(0,S.vw)(15),fontFamily:"Poppins_medium",color:P.Z.primary},children:E}),(0,F.jsx)(l.Z,{style:{fontSize:(0,S.vw)(15),fontFamily:"Poppins_medium",color:"rgba(0,0,0,0.5)"},children:I})]}),(0,F.jsxs)(d.Z,{style:{marginTop:(0,S.vh)(5),marginBottom:(0,S.vh)(10)},justifyContent:"space-between",children:[(0,F.jsx)(l.Z,{style:{fontSize:(0,S.vw)(13),fontFamily:"Poppins_medium",color:"#919191"},children:W}),(0,F.jsx)(l.Z,{style:{fontSize:(0,S.vw)(13),fontFamily:"Poppins_medium",color:"#919191"},children:O})]}),(0,F.jsx)(u.h,{width:"100%",height:B-130,children:(0,F.jsxs)(h.T,{width:730,height:550,data:g().sortBy(M.map((function(e){return"investments"===t&&(e.curr||e.prev)&&(e.curr&&(e.curr=parseFloat(e.curr).toFixed(2)),e.prev&&(e.prev=parseFloat(e.prev).toFixed(2))),e})),"date"),margin:{top:10,right:30,left:0,bottom:0},children:[(0,F.jsxs)("defs",{children:[(0,F.jsxs)("linearGradient",{id:"colorCurr",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,F.jsx)("stop",{offset:"5%",stopColor:P.Z.primary,stopOpacity:.8}),(0,F.jsx)("stop",{offset:"95%",stopColor:P.Z.primary,stopOpacity:0})]}),(0,F.jsxs)("linearGradient",{id:"colorPrev",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,F.jsx)("stop",{offset:"5%",stopColor:"rgba(0,0,0,0.4)",stopOpacity:.8}),(0,F.jsx)("stop",{offset:"95%",stopColor:"rgba(0,0,0,0.4)",stopOpacity:0})]})]}),(0,F.jsx)(y.K,{style:{fontSize:(0,S.vw)(12)},dataKey:"date"}),(0,F.jsx)(v.B,{style:{fontSize:(0,S.vw)(12)}}),(0,F.jsx)(x.q,{strokeDasharray:"3 3"}),(0,F.jsx)(w.u,{labelStyle:{fontSize:(0,S.vw)(12)}}),(0,F.jsx)(Z.u,{type:"monotone",dataKey:"prev",stroke:"rgba(0,0,0,0.4)",fillOpacity:1,fill:"url(#colorPrev)"}),(0,F.jsx)(Z.u,{type:"monotone",dataKey:"curr",stroke:P.Z.primary,fillOpacity:1,fill:"url(#colorCurr)"})]})})]})};t.default=function(e){var t=e.profile,r=(0,s.useRef)(),o=(0,s.useState)("7d"),n=(0,i.Z)(o,2),a=n[0],p=n[1],u=(0,s.useState)(new Date),h=(0,i.Z)(u,2),y=h[0],v=h[1],x=(0,s.useState)(new Date),w=(0,i.Z)(x,2),Z=w[0],j=w[1],g=(0,s.useState)(!1),b=(0,i.Z)(g,2),z=b[0],B=b[1];return(0,s.useEffect)((function(){function e(e){r.current&&!r.current.contains(e.target)&&B(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[r]),(0,F.jsxs)(m.Z,{children:[(0,F.jsx)(C.Z,{title:"Analytics",subtitle:"Update your photo and personal details here"}),(0,F.jsxs)(d.Z,{style:{borderBottomColor:"rgba(0,0,0, 0.15)",borderBottomWidth:(0,S.vw)(1.5),justifyContent:"space-between",zIndex:9999},children:[(0,F.jsxs)(d.Z,{space:8,children:[(0,F.jsx)(c.ZP,{onPress:function(){p("7d")},children:(0,F.jsx)(l.Z,{style:{color:"7d"===a?P.Z.primary:"#666666",fontSize:(0,S.vw)(15),fontFamily:"Poppins_medium",paddingBottom:(0,S.vh)(15),borderBottomColor:P.Z.primary,borderBottomWidth:"7d"===a?(0,S.vw)(3):0},children:"7 days"})}),(0,F.jsx)(c.ZP,{onPress:function(){p("1m")},children:(0,F.jsx)(l.Z,{style:{color:"1m"===a?P.Z.primary:"#666666",fontSize:(0,S.vw)(15),fontFamily:"Poppins_medium",paddingBottom:(0,S.vh)(15),borderBottomColor:P.Z.primary,borderBottomWidth:"1m"===a?(0,S.vw)(3):0},children:"1 month"})}),(0,F.jsx)(c.ZP,{onPress:function(){p("3m")},children:(0,F.jsx)(l.Z,{style:{color:"3m"===a?P.Z.primary:"#666666",fontSize:(0,S.vw)(15),fontFamily:"Poppins_medium",paddingBottom:(0,S.vh)(15),borderBottomColor:P.Z.primary,borderBottomWidth:"3m"===a?(0,S.vw)(3):0},children:"3 months"})}),(0,F.jsx)(c.ZP,{onPress:function(){p("6m")},children:(0,F.jsx)(l.Z,{style:{color:"6m"===a?P.Z.primary:"#666666",fontSize:(0,S.vw)(15),fontFamily:"Poppins_medium",paddingBottom:(0,S.vh)(15),borderBottomColor:P.Z.primary,borderBottomWidth:"6m"===a?(0,S.vw)(3):0},children:"6 months"})}),(0,F.jsx)(c.ZP,{onPress:function(){p("1y")},children:(0,F.jsx)(l.Z,{style:{color:"1y"===a?P.Z.primary:"#666666",fontSize:(0,S.vw)(15),fontFamily:"Poppins_medium",paddingBottom:(0,S.vh)(15),borderBottomColor:P.Z.primary,borderBottomWidth:"1y"===a?(0,S.vw)(3):0},children:"1 year"})})]}),(0,F.jsxs)(m.Z,{ref:r,zIndex:999,children:[(0,F.jsx)(c.ZP,{onPress:function(){p("custom"),B((function(e){return!e}))},style:{borderColor:"rgba(0,0,0,0.15)",borderWidth:1,borderRadius:100,paddingHorizontal:(0,S.vh)(15),marginTop:(0,S.vh)(-5)},children:(0,F.jsx)(l.Z,{style:{color:"custom"===a?P.Z.primary:"#666666",fontSize:(0,S.vw)(13),fontFamily:"Poppins_medium",lineHeight:(0,S.vh)(36),height:(0,S.vh)(36)},children:"Custom Date"})}),z&&(0,F.jsxs)(d.Z,{space:8,style:{boxShadow:"0px 3px 10px #0000001A",position:"absolute",zIndex:999999,marginTop:40,justifyContent:"flex-start",backgroundColor:"white",width:(0,S.vw)(240),padding:(0,S.vw)(10),right:(0,S.vw)(0),borderRadius:(0,S.vw)(10),opacity:1},children:[(0,F.jsxs)(m.Z,{space:1,children:[(0,F.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:(0,S.vw)(13),color:"rgba(0,0,0,0.15",marginLeft:(0,S.vw)(10)},children:"From Date"}),(0,F.jsx)(D(),{selected:y||new Date,onChange:function(e){v(e)},selectsStart:!0,startDate:y||new Date,endDate:Z||new Date,minDate:new Date(t.created),maxDate:new Date})]}),(0,F.jsxs)(m.Z,{space:1,children:[(0,F.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:(0,S.vw)(13),color:"rgba(0,0,0,0.15",marginLeft:(0,S.vw)(10)},children:"To Date"}),(0,F.jsx)(D(),{selected:Z||new Date,onChange:function(e){j(e)},selectsEnd:!0,startDate:y||new Date,endDate:Z||new Date,minDate:y||new Date,maxDate:new Date})]})]})]})]}),(0,F.jsx)(d.Z,{justifyContent:"space-between",flexWrap:"wrap",children:["properties","mailers","emails","investments","milesdriven","timedriven"].map((function(e){return(0,F.jsx)(Y,{type:e,range:a,fromdate:f()(y).format("YYYY-MM-DD"),todate:f()(Z).format("YYYY-MM-DD"),id:"admin"===t.role?t.team:t._id,role:t.role},"chart-"+e)}))})]})}},84234:function(e,t,r){var o=r(1413),n=(r(72791),r(26686)),i=r(74222),s=r(18227),a=r(70084),d=r(80184);t.Z=function(e){var t=e.title,r=e.subtitle,l=e.rightElement,m=e.noborder,c=void 0!==m&&m,p={borderBottomColor:"rgba(0,0,0, 0.15)",borderBottomWidth:(0,a.vw)(1.5),marginBottom:(0,a.vh)(20)};return c&&(p={}),(0,d.jsxs)(n.Z,{style:(0,o.Z)({paddingBottom:(0,a.vh)(16)},p),justifyContent:"space-between",children:[(0,d.jsxs)(i.Z,{children:[(0,d.jsx)(s.Z,{style:{fontSize:(0,a.vw)(24),color:"#303030",fontFamily:"Poppins_medium"},children:t}),(0,d.jsx)(s.Z,{style:{fontSize:(0,a.vw)(13),color:"#666666",fontFamily:"Poppins"},children:r})]}),l]})}}}]);
//# sourceMappingURL=9905.ab208915.chunk.js.map
"use strict";(self.webpackChunkapp_web_react=self.webpackChunkapp_web_react||[]).push([[9675],{29675:function(e,r,t){t.r(r);var n=t(74165),o=t(15861),a=t(70885),s=t(72791),c=t(74222),u=t(763),i=t.n(u),f=t(59434),p=t(64186),d=t(80184),l=s.lazy((function(){return Promise.all([t.e(2977),t.e(4541),t.e(9929),t.e(6798),t.e(3256)]).then(t.bind(t,56798))})),h=s.lazy((function(){return Promise.all([t.e(2977),t.e(4541),t.e(1134),t.e(5832),t.e(8500),t.e(6206),t.e(4296),t.e(7095),t.e(4872)]).then(t.bind(t,25288))}));r.default=function(e){var r=e.setLogout,t=e.user,u=(0,f.I0)(),m=(0,s.useState)(""),w=(0,a.Z)(m,2),v=w[0],x=(w[1],(0,s.useState)([])),g=(0,a.Z)(x,2),y=(g[0],g[1]);return(0,s.useEffect)((function(){(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,u(p.Ai());case 3:case"end":return e.stop()}}),e)})))()}),[t]),(0,s.useEffect)((function(){var e=!1,r=i().debounce(function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var t,o,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://maps.googleapis.com/maps/api/place/autocomplete/json?key=".concat("AIzaSyDmwZdL8fB-zBbuBfm6cXl_IgaMvkH-KLE","&input=").concat(r,"&radius=2000&components=country:us"),e.prev=1,e.next=4,fetch(t);case 4:return o=e.sent,e.next=7,o.json();case 7:a=e.sent,y(a.predictions),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0.message());case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(r){return e.apply(this,arguments)}}(),500);return e||(""!==v?r(v):y([])),function(){e=!0}}),[v]),(0,d.jsxs)(c.Z,{flex:1,children:[(0,d.jsx)(l,{user:t,setLogout:r}),(0,d.jsx)(s.Suspense,{children:(0,d.jsx)(h,{user:t})})]})}},64186:function(e,r,t){t.d(r,{Ai:function(){return v},IU:function(){return w},c0:function(){return h},ck:function(){return x},gF:function(){return l},nm:function(){return g},x4:function(){return d}});var n=t(1413),o=t(74165),a=t(15861),s=t(92810),c=t(75247),u=t(73528),i=t.n(u),f=t(4200),p=function(e){if(e){var r=e.lastsub,t=e.freetrial&&e.freetrial;localStorage.setItem("@shadowuser",JSON.stringify({_id:e._id,team:e.team,owner:e._id===e.team,token:e.token,pic:e.pic?e.pic.id:0,email:e.email,firstname:e.firstname,invitecode:e.invitecode,lastname:e.lastname,name:e.firstname+" "+e.lastname,joined:e.created,customerId:e.customerId,pm:e.pm,role:e.role,freetrial:t,sub:{start:r&&r.start||null,end:r&&r.end||null,plan:e.plan&&e.plan.type||null},price:{mail:t&&t.mail||0,smartsearch:t&&t.smartsearch||0}}))}},d=function(e,r){return function(){var t=(0,a.Z)((0,o.Z)().mark((function t(n){var a,s,c,u,i,d;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(f.T5,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})});case 3:if((a=t.sent).ok){t.next=14;break}return t.next=7,a.json();case 7:if(s=t.sent,console.log("Response Error",s.error),!s||!s.error){t.next=13;break}throw new Error(s.error);case 13:throw new Error("Something went wrong!");case 14:return t.next=16,a.json();case 16:return c=t.sent,u=c.data,(i=new Date).setFullYear(i.getFullYear()+5),d=i,p(u),t.next=24,n(m(u._id,u.token,d));case 24:return t.next=26,n(v());case 26:t.next=31;break;case 28:throw t.prev=28,t.t0=t.catch(0),new Error(t.t0.message);case 31:case"end":return t.stop()}}),t,null,[[0,28]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var r=(0,a.Z)((0,o.Z)().mark((function r(t){var n,a,s,c;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(f.T5,"/forgot"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});case 2:if((n=r.sent).ok){r.next=10;break}return r.next=6,n.json();case 6:throw a=r.sent,s="Something went wrong!",a.error&&(s=a.error),new Error(s);case 10:return r.next=12,n.json();case 12:if(!(c=r.sent).error){r.next=15;break}throw new Error(c.error);case 15:return r.abrupt("return",c.success);case 16:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},h=function(e){return function(){var r=(0,a.Z)((0,o.Z)().mark((function r(t){var n,a,s,c;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(f.T5,"/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if((n=r.sent).ok){r.next=10;break}return r.next=6,n.json();case 6:throw a=r.sent,s="Something went wrong!",a.error&&(s=a.error),new Error(s);case 10:return r.next=12,n.json();case 12:return c=r.sent,r.abrupt("return",c.success);case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},m=function(e,r){return function(t){t({type:c.eK,userId:e,token:r})}},w=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(r){var t,a,c,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(f.T5,"/register"),e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,n.Z)((0,n.Z)({},r),{},{os:"W",device_id:(0,s.Z)()}))});case 3:if((a=e.sent).ok){e.next=14;break}return e.next=7,a.json();case 7:if(c=e.sent,console.log("Response Error",c.error),!c||!c.error){e.next=13;break}throw new Error(c.error);case 13:throw new Error("Something went wrong!");case 14:return e.next=16,a.json();case 16:return u=e.sent,e.abrupt("return",u.data);case 18:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var r=(0,a.Z)((0,o.Z)().mark((function r(t,a){var u,d,l,h,m,w,v,x,g;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,u=(0,f.PR)(),d=u._id,l=u.token,r.next=4,fetch("".concat(f.T5,"/users/").concat(d),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}});case 4:if((h=r.sent).ok){r.next=17;break}return r.next=8,h.json();case 8:if(!(m=r.sent)||!m.error){r.next=14;break}throw"token expired or invalid token"===m.error&&localStorage.removeItem("@shadowuser"),new Error(m.error);case 14:throw new Error("Something went wrong!");case 15:r.next=24;break;case 17:return r.next=19,h.json();case 19:return w=r.sent,v=w.data,e||(x=(0,s.Z)(),t({type:c.Kh,data:(0,n.Z)((0,n.Z)({},v),{},{appId:x})}),t({type:c.fu,data:{fromDate:i()(v.created).format("YYYY-MM-DD"),isUserFilter:!1,refresh:!0}})),v&&(g=(0,f.PR)())&&p((0,n.Z)((0,n.Z)({},g),v)),r.abrupt("return",v);case 24:r.next=29;break;case 26:throw r.prev=26,r.t0=r.catch(0),new Error(r.t0.message);case 29:case"end":return r.stop()}}),r,null,[[0,26]])})));return function(e,t){return r.apply(this,arguments)}}()},x=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var t=(0,a.Z)((0,o.Z)().mark((function t(a,s){var u,i,d,l,h,m,w,v,x;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,f.PR)(),i=u.token,d=e._id,delete e._id,l=JSON.stringify(e),t.next=6,fetch("".concat(f.T5,"/users/").concat(d),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i},body:l});case 6:if((h=t.sent).ok){t.next=18;break}return t.next=10,h.json();case 10:if(m=t.sent,w="Something went wrong!",console.log(m),!m.error){t.next=17;break}throw new Error(m.error);case 17:throw new Error(w);case 18:return t.next=20,h.json();case 20:(v=t.sent).data&&(x=(0,f.PR)(),p((0,n.Z)((0,n.Z)({},x),v.data)),r&&(e.changerole&&r.emit("user:role:changed",e),e.changeactive&&r.emit("user:status:changed",e)),a({type:c.Kh,data:v.data}));case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},g=function(){return function(){var e=(0,a.Z)((0,o.Z)().mark((function e(r,t){var n,a,s,u,i,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,f.PR)(),a=n.token,e.prev=1,e.next=4,fetch("".concat(f.T5,"/faqs/get"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({skip:0,filter:{active:!0}})});case 4:if((s=e.sent).ok){e.next=15;break}return e.next=8,s.json();case 8:if(u=e.sent,console.log("Response Error",u),!u||!u.error){e.next=14;break}throw new Error(u.error);case 14:throw new Error("Something went wrong!");case 15:return e.next=17,s.json();case 17:i=e.sent,p=i.data,r({type:c.ji,data:p}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(r,t){return e.apply(this,arguments)}}()}},92810:function(e,r,t){var n;t.d(r,{Z:function(){return p}});var o=new Uint8Array(16);function a(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"===typeof e&&s.test(e)},u=[],i=0;i<256;++i)u.push((i+256).toString(16).substr(1));var f=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(u[e[r+0]]+u[e[r+1]]+u[e[r+2]]+u[e[r+3]]+"-"+u[e[r+4]]+u[e[r+5]]+"-"+u[e[r+6]]+u[e[r+7]]+"-"+u[e[r+8]]+u[e[r+9]]+"-"+u[e[r+10]]+u[e[r+11]]+u[e[r+12]]+u[e[r+13]]+u[e[r+14]]+u[e[r+15]]).toLowerCase();if(!c(t))throw TypeError("Stringified UUID is invalid");return t};var p=function(e,r,t){var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return f(n)}}}]);
//# sourceMappingURL=9675.071b5548.chunk.js.map
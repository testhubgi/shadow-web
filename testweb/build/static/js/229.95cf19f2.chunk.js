"use strict";(self.webpackChunkapp_web_react=self.webpackChunkapp_web_react||[]).push([[229],{90914:function(e,t,r){var n=r(1413),a=r(72791),s=r(69912),i=r(61134),o=r(75737),l=r.n(o),c=r(38542),d=r(70084),u=r(80184),p=d.ZP.vw,h=d.ZP.vh,f=a.forwardRef((function(e,t){var r=(0,a.useRef)();return(0,u.jsxs)(s.NI,{isRequired:e.isRequired,isInvalid:e.invalid,isReadOnly:e.isReadOnly,style:(0,n.Z)({height:h(48)},e.style),children:[e.label&&(0,u.jsx)(s.NI.Label,{style:{fontSize:p(13),fontFamily:"Poppins_medium",color:e.invalid?"red.500":"rgba(102, 102, 102, 0.7)",height:h(19)},children:e.label}),(0,u.jsx)(i.Qr,{style:{zIndex:99999},control:e.control,rules:(0,n.Z)((0,n.Z)({},e.rules),{},{validate:function(e){return(0,c.y)(e,"US")||"Enter a valid phone number"}}),name:e.name,render:function(n){var a=n.field,s=a.onChange,i=(a.onBlur,a.value);return(0,u.jsx)(l(),{ref:r,inputProps:{ref:t,name:"tel",disabled:e.isReadOnly},country:"us",value:i,onChange:s,onKeyDown:e.onKeyPress,containerStyle:{zIndex:999999},dropdownStyle:{zIndex:999999,position:"absolute",height:h(100)},inputStyle:{fontSize:p(15),fontFamily:"Poppins_medium",backgroundColor:"white",height:h(37.8),width:"100%",marginTop:h(1)}})}}),(0,u.jsx)(s.NI.ErrorMessage,{style:{marginTop:h(-3)},children:e.error}),(0,u.jsx)(s.NI.HelperText,{style:{marginTop:h(-3)},children:e.help})]})}));t.Z=f},94655:function(e,t,r){var n=r(74165),a=r(15861),s=r(70885),i=r(72791),o=r(74222),l=r(26686),c=r(94724),d=r(55045),u=r(60961),p=r(40933),h=r(18227),f=r(763),m=r.n(f),g=r(55044),y=r(90193),x=r(65785),v=r(70084),Z=r(80184),j="https://reversegeocode.shadow.properties",w=function(e){var t=e.sz,f=e.setAddress,w=e.setRefresh,b=(0,i.useRef)([]),S=(0,i.useRef)([]),P=(0,i.useRef)(),k=(0,i.useRef)(),z=(0,i.useRef)(),C=(0,i.useState)([]),_=(0,s.Z)(C,2),T=_[0],R=_[1],A=(0,i.useState)(""),F=(0,s.Z)(A,2),E=F[0],I=F[1],H=(0,i.useState)(""),V=(0,s.Z)(H,2),O=V[0],L=V[1];(0,i.useEffect)((function(){function e(e){P.current&&!P.current.contains(e.target)&&r.g.predictions&&(R([]),I(""),z.current.value="",delete r.g.predictions)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[P]),(0,i.useEffect)((function(){var e=!1,t=m().debounce(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,s,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(j,"/autocomplete"),e.prev=1,e.next=4,fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Token:"AW9054ty6erfgk321"},body:JSON.stringify({input:t})});case 4:return s=e.sent,e.next=7,s.json();case 7:i=e.sent,r.g.predictions=i.data,R(i.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0.message());case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),500);return e||(""!==E?t(E):R([])),function(){e=!0}}),[E]),(0,i.useEffect)((function(){var e=!1,t=m().debounce(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(j,"/address"),e.prev=1,e.next=4,fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Token:"AW9054ty6erfgk321"},body:JSON.stringify({id:t})});case 4:return a=e.sent,e.next=7,a.json();case 7:s=e.sent,w((function(e){return!e})),f(s.data),z.current.value=s.data.ff,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0.message());case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),500);return e||(""!==O?t(O):f(null)),function(){e=!0}}),[O]);var B="md"===t||"lg"===t||"xl"===t?{marginTop:(0,v.vh)(30),width:"90%",marginLeft:(0,v.vw)(40),height:(0,v.vh)(48),marginRight:(0,v.vw)(20),borderWidth:0,boxShadow:"0px 3px 6px #0000001A",borderBottomLeftRadius:(0,v.vh)(T&&T.length>0?0:50),borderBottomRightRadius:(0,v.vh)(T&&T.length>0?0:50),zIndex:99999}:{marginTop:(0,v.vh)(20),width:"99%",height:(0,v.vh)(48),boxShadow:"0px 3px 6px #0000001A",borderBottomLeftRadius:(0,v.vh)(T&&T.length>0?0:50),borderBottomRightRadius:(0,v.vh)(T&&T.length>0?0:50),alignSelf:"center",zIndex:99999};return(0,Z.jsxs)(o.Z,{ref:P,bg:"white",borderRadius:T&&T.length>0?10:50,style:B,children:[(0,Z.jsx)(l.Z,{style:{borderRadius:T&&T.length>0?10:50,bg:"transparent",width:"100%"},marginTop:(0,v.vh)(2),children:(0,Z.jsx)(c.II,{leftElement:(0,Z.jsx)(d.Z,{bg:"white",marginLeft:(0,v.vw)(16),children:(0,Z.jsx)(g.Z,{})}),name:"searchlocation",id:"searchlocation",ref:z,autoComplete:"off",bg:"transparent",width:"full",style:{height:(0,v.vh)(45),fontSize:(0,v.vw)(15),lineHeight:(0,v.vh)(22),overflow:"hidden",fontFamily:"Poppins_medium",color:"#989898",borderWidth:0,borderColor:"white",backgroundColor:"white"},onKeyPress:function(e){"ArrowDown"===e.key&&b.current&&""!==z.current.value?(r.g.sp?5===r.g.sp&&(b.current[r.g.sp-1].style.color="#303030",b.current[r.g.sp-1].style.fontWeight="norml",r.g.sp=0):r.g.sp=0,r.g.sp>0&&(b.current[r.g.sp-1].style.color="#303030",b.current[r.g.sp-1].style.fontWeight="normal"),b.current[r.g.sp].style.color=x.Z.primary,b.current[r.g.sp].style.fontWeight="bold",r.g.sp++):"ArrowUp"===e.key&&b.current&&""!==z.current.value?(r.g.sp||(r.g.sp=0),r.g.sp>2?(b.current[r.g.sp-1].style.color="#303030",b.current[r.g.sp-1].style.fontWeight="normal",b.current[r.g.sp-2].style.color=x.Z.primary,b.current[r.g.sp-2].style.fontWeight="bold",r.g.sp--):1===r.g.sp?(r.g.sp=5,b.current[0].style.color="#303030",b.current[0].style.fontWeight="normal",b.current[r.g.sp-1].style.color=x.Z.primary,b.current[r.g.sp-1].style.fontWeight="bold"):(b.current[r.g.sp-1].style.color="#303030",b.current[r.g.sp-1].style.fontWeight="normal",b.current[r.g.sp-2].style.color=x.Z.primary,b.current[r.g.sp-2].style.fontWeight="bold",r.g.sp--)):"Enter"===e.key&&r.g.sp?S.current[r.g.sp-1].click():"Tab"===e.key&&e.preventDefault()},_focus:{borderColor:"white"},_hover:{borderColor:"white"},onChangeText:function(e){k.current.style.visibility=""!==e?"visible":"hidden",I(e)},variant:"unstyled",placeholder:"Search address",rightElement:(0,Z.jsx)(u.ZP,{ref:k,onPress:function(){""!==E&&R([]),z.current.value="",k.current.style.visibility="hidden"},style:{marginRight:(0,v.vw)(20),visibility:"hidden",marginTop:(0,v.vh)(5)},children:(0,Z.jsx)(y.Z,{})})})}),T&&T.length>0&&(0,Z.jsxs)(o.Z,{space:4,style:{zIndex:9999,width:"100%",paddingTop:(0,v.vh)(5),paddingBottom:(0,v.vh)(20),paddingHorizontal:(0,v.vw)(20),backgroundColor:"white",borderBottomLeftRadius:(0,v.vh)(10),borderBottomRightRadius:(0,v.vh)(10),boxShadow:"0px 3px 6px #0000001A"},children:[(0,Z.jsx)(p.Z,{style:{alignSelf:"center",backgroundColor:"rgba(0,0,0,0.15)",height:(0,v.vh)(1.5),width:"100%"}}),T&&T.length>0&&T.map((function(e,t){return(0,Z.jsx)(u.ZP,{onHoverIn:function(){b.current[t].style.color=x.Z.primary,b.current[t].style.fontWeight="bold"},onHoverOut:function(){b.current[t].style.color="#303030",b.current[t].style.fontWeight="normal"},ref:function(e){return S.current[t]=e},onPress:(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L(e.id),R([]);case 2:case"end":return t.stop()}}),t)}))),children:(0,Z.jsx)(h.Z,{style:{fontSize:(0,v.vw)(13),fontFamily:"Poppins",color:"rgba(0,0,0,0.4)"},children:(0,Z.jsx)(h.Z,{ref:function(e){return b.current[t]=e},style:{color:"#303030"},children:e.address})})},"pr-"+e.id)}))]})]})};t.Z=i.memo(w)},38051:function(e,t,r){r(72791);var n=r(83814),a=r.n(n),s=r(80184);t.Z=function(e){var t=e.fill;e.stroke;return(0,s.jsxs)(a(),{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:24,height:24,children:[(0,s.jsx)(n.Path,{"data-name":"Rectangle 37",fill:"none",d:"M0 0h24v24H0z"}),(0,s.jsx)(n.Path,{"data-name":"Path 10127",d:"M17.1 12.52h-4.22v4.26H11.1v-4.26H6.9v-1.66h4.2V6.58h1.78v4.28h4.22Z",fill:t||"#fff"})]})}},2508:function(e,t,r){r(72791);var n=r(83814),a=r.n(n),s=r(80184);t.Z=function(e){var t=e.fill;return(0,s.jsxs)(a(),{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:24,height:24,children:[(0,s.jsx)(n.Path,{"data-name":"Rectangle 243",fill:"none",d:"M0 0h24v24H0z"}),(0,s.jsxs)(n.G,{fill:t||"#7d2be9",children:[(0,s.jsx)(n.Path,{"data-name":"Path 10125",d:"M15.666 17.78H5.889V8.003h5.876l.889-.889H5.889A.889.889 0 0 0 5 8.003v9.778a.889.889 0 0 0 .889.889h9.778a.889.889 0 0 0 .889-.889v-6.667l-.889.889Z"}),(0,s.jsx)(n.Path,{"data-name":"Path 10126",d:"m18.122 7.047-1.5-1.5a.716.716 0 0 0-1.013 0l-6.087 6.127-.5 2.138a.716.716 0 0 0 .7.857.751.751 0 0 0 .164 0l2.156-.476 6.08-6.137a.716.716 0 0 0 0-1.013Zm-6.54 6.324-1.627.36.378-1.613L14.922 7.5l1.253 1.253Zm5.093-5.124-1.253-1.249.689-.7 1.262 1.262Z"})]})]})}},73674:function(e,t,r){r(72791);var n=r(83814),a=r.n(n),s=r(70084),i=r(80184);t.Z=function(e){var t=e.fill;return(0,i.jsx)(a(),{xmlns:"http://www.w3.org/2000/svg",width:(0,s.vw)(24),height:(0,s.vh)(24),viewBox:"0 0 24 24",children:(0,i.jsxs)(n.G,{transform:"translate(-26 -92)",children:[(0,i.jsx)(n.Path,{"data-name":"Rectangle 38",transform:"translate(26 92)",fill:"none",d:"M0 0H24V24H0z"}),(0,i.jsx)(n.Path,{"data-name":"Path 10217",d:"M.83-4.52L5.3-8.99l1.18 1.17L0-1.33l-6.48-6.49 1.18-1.17 4.47 4.47v-10.15H.83z",transform:"translate(38 112)",fill:t||"#fb4949"})]})})}},35880:function(e,t,r){r(72791);var n=r(83814),a=r.n(n),s=r(70084),i=r(80184);t.Z=function(e){var t=e.fill;return(0,i.jsx)(a(),{xmlns:"http://www.w3.org/2000/svg",width:(0,s.vw)(24),height:(0,s.vh)(24),viewBox:"0 0 24 24",children:(0,i.jsxs)(n.G,{transform:"translate(-26 -92)",children:[(0,i.jsx)(n.Path,{"data-name":"Rectangle 38",transform:"translate(26 92)",fill:"none",d:"M0 0H24V24H0z"}),(0,i.jsx)(n.Path,{"data-name":"Path 10218",d:"M.83-11.48v10.15H-.83v-10.15L-5.3-7.01l-1.18-1.18L0-14.67l6.48 6.48L5.3-7.01z",transform:"translate(38 112)",fill:t||"#4fc567"})]})})}},55044:function(e,t,r){r(72791);var n=r(83814),a=r.n(n),s=r(70084),i=r(80184);t.Z=function(e){var t=e.fill,r=e.width,o=e.height;return(0,i.jsxs)(a(),{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:(0,s.vw)(r||24),height:(0,s.vh)(o||24),children:[(0,i.jsx)(n.Path,{"data-name":"Rectangle 37",fill:"none",d:"M0 0h24v24H0z"}),(0,i.jsx)(n.Path,{"data-name":"Path 161",d:"m17.03 15.85 3.57 3.57-1.18 1.17-3.57-3.56a7.623 7.623 0 0 1-2.205 1.215 7.389 7.389 0 0 1-2.475.425 7.4 7.4 0 0 1-2.92-.59 7.388 7.388 0 0 1-2.385-1.61 7.516 7.516 0 0 1-1.605-2.38 7.457 7.457 0 0 1-.59-2.925 7.385 7.385 0 0 1 .59-2.915 7.427 7.427 0 0 1 1.605-2.385A7.427 7.427 0 0 1 8.25 4.26a7.385 7.385 0 0 1 2.915-.59 7.457 7.457 0 0 1 2.925.59 7.516 7.516 0 0 1 2.38 1.605 7.388 7.388 0 0 1 1.61 2.385 7.4 7.4 0 0 1 .59 2.92 7.389 7.389 0 0 1-.425 2.475 7.623 7.623 0 0 1-1.215 2.205Zm-1.68-.62a5.724 5.724 0 0 0 1.225-1.875A5.8 5.8 0 0 0 17 11.17a5.734 5.734 0 0 0-.46-2.27 5.75 5.75 0 0 0-1.25-1.86 5.78 5.78 0 0 0-1.85-1.25 5.793 5.793 0 0 0-2.275-.46 5.721 5.721 0 0 0-2.265.46 5.75 5.75 0 0 0-1.86 1.25A5.75 5.75 0 0 0 5.79 8.9a5.721 5.721 0 0 0-.46 2.265 5.793 5.793 0 0 0 .46 2.275 5.78 5.78 0 0 0 1.25 1.85 5.75 5.75 0 0 0 1.86 1.25 5.734 5.734 0 0 0 2.27.46 5.8 5.8 0 0 0 2.185-.425 5.724 5.724 0 0 0 1.875-1.225Z",fill:t||"#686868"})]})}},34391:function(e,t,r){var n=r(1413),a=(r(72791),r(74222)),s=r(26686),i=r(18227),o=r(60961),l=r(38051),c=r(70084),d=r(65785),u=r(80184),p=c.ZP.vw,h=c.ZP.vh;t.Z=function(e){var t=e.title,r=e.subtitle,c=e.children,f=e.onPress,m=e.rightElement,g=e.style,y=e.titlestyle,x=e.headerStyle;return(0,u.jsxs)(a.Z,{style:(0,n.Z)({backgroundColor:"white",borderRadius:p(10),boxShadow:"0px 3px 10px #0000001A"},g),children:[t&&(0,u.jsxs)(s.Z,{style:(0,n.Z)({height:h(54),justifyContent:"space-between",alignItems:"center",marginHorizontal:p(20),borderBottomWidth:p(2),borderBottomColor:"rgba(0,0,0, 0.10)"},x),children:[(0,u.jsxs)(a.Z,{space:1,children:[(0,u.jsx)(i.Z,{style:(0,n.Z)({fontFamily:"Poppins_medium",fontSize:p(13),color:"#303030"},y),children:t}),r&&(0,u.jsx)(i.Z,{style:{fontFamily:"Poppins_medium",fontSize:p(13),color:"#303030",marginTop:h(-8)},children:r})]}),f?(0,u.jsx)(o.ZP,{onPress:f,children:m||(0,u.jsx)(l.Z,{fill:d.Z.primary})}):m]}),(0,u.jsx)(a.Z,{style:{marginHorizontal:p(20)},children:c})]})}},22171:function(e,t,r){r.r(t),r.d(t,{default:function(){return Ee}});var n=r(74165),a=r(15861),s=r(70885),i=r(72791),o=r(25492),l=r(18227),c=r(74222),d=r(95417),u=r(26686),p=r(60961),h=r(68129),f=r(16871),m=r(59434),g=r(70084),y=r(56798),x=r(65785),v=r(12720),Z=r(14071),j=r(64186),w=r(55045),b=r(370),S=r(78312),P=r(763),k=r.n(P),z=r(80184),C=function(e){var t=e.property,r=(0,i.useState)([{category:"Parcel",key:"parcel",icon:"ios-home",active:!0},{category:"Structure",key:"structure",icon:"ios-home",active:!1},{category:"Owner",key:"owner",icon:"ios-person",active:!1},{category:"Deeds",key:"deeds",icon:"ios-home",active:!1},{category:"Taxes",key:"taxes",icon:"ios-home",active:!1},{category:"Assessments",key:"assessments",icon:"ios-home",active:!1},{category:"Valuations",key:"valuation",icon:"ios-home",active:!1}]),n=(0,s.Z)(r,1)[0];var a=function(e){var t=e.item,r=e.category,n=(0,i.useState)(r.active),a=(0,s.Z)(n,2),o=a[0],d=a[1],h=r.category.trim(),f=function(e){var t=e.k,r=e.v;return(0,z.jsxs)(u.Z,{flex:1,style:{justifyContent:"flex-start",marginVertical:(0,g.vh)(12.5)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:(0,g.vw)(15),width:(0,g.vw)(350),color:"#303030"},children:t}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:(0,g.vw)(15),color:"#303030",textAlign:"left",flexGrow:1,flexWrap:"wrap"},children:"Sale Price"===t?r.replace("(","\n("):k().unescape(r)})]})},m=Object.keys(t);return(0,z.jsxs)(c.Z,{style:{backgroundColor:"white",borderRadius:(0,g.vw)(10),boxShadow:"0px 3px 10px #0000001A",paddingHorizontal:(0,g.vw)(20),marginBottom:(0,g.vh)(10)},children:[(0,z.jsx)(p.ZP,{onPress:function(){d(!o)},children:(0,z.jsxs)(u.Z,{style:{height:(0,g.vh)(54),justifyContent:"space-between",alignItems:"center",borderBottomWidth:o?(0,g.vw)(2):0,borderBottomColor:"rgba(0,0,0, 0.10)"},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:(0,g.vw)(13),color:"#303030"},children:h}),(0,z.jsx)(w.Z,{children:o?(0,z.jsx)(b.v4,{size:(0,g.vw)(12)}):(0,z.jsx)(b.XC,{size:(0,g.vw)(12)})})]})}),o&&(0,z.jsx)(S.Z,{children:m.map((function(e){var r=t[e];if("Deeds"===h){if("object"===typeof r)return(0,z.jsxs)(S.Z,{mb:2,children:[Object.keys(r).map((function(e){var t=r[e];return(0,z.jsxs)(S.Z,{children:[(0,z.jsx)(l.Z,{textTransform:"capitalize",m:2,fontSize:12,fontWeight:"bold",children:e}),Object.keys(t).map((function(r){return"object"===typeof t[r]?(0,z.jsxs)(S.Z,{children:[(0,z.jsx)(l.Z,{textTransform:"capitalize",m:2,fontSize:10,fontWeight:"bold",children:r}),Object.keys(t[r]).map((function(e){return(0,z.jsx)(f,{k:e,v:t[r][e]},e)}))]},e):(0,z.jsx)(f,{k:r,v:t[r]},r)}))]},e)}))," "]},e)}else if("Taxes"===h||"Assessments"===h||"Valuations"===h)return(0,z.jsx)(S.Z,{mb:2,children:Object.keys(r).map((function(e){var t=r[e];return(0,z.jsx)(f,{k:e,v:t},e)}))},e);return(0,z.jsx)(f,{k:e,v:r},e)}))})]})};return!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(t.attributes)&&n.map((function(e,r){var n=t.attributes[e.key];return n&&(0,z.jsx)(a,{item:n,category:e},"a-"+r)}))},_=r(61134),T=r(34391),R=r(44843),A=r(79015),F=r(93142),E=r(2508),I=g.ZP.vw,H=g.ZP.vh,V=function(e){var t=e.property,r=e._showAlert,o=(0,m.I0)(),d=(0,i.useState)(!1),p=(0,s.Z)(d,2),h=p[0],f=p[1],g=(0,i.useState)(!1),y=(0,s.Z)(g,2),x=y[0],Z=y[1],j=(0,_.cI)({mode:"all",defaultValues:{postcardname:t&&t.postcardname?t.postcardname:t.name}}),w=j.control,b=j.handleSubmit,S=j.formState.errors,P=j.reset,k=(j.getValues,function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var s,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={_id:t._id,postcardname:a.postcardname},i=v.S2(s),Z(!0),e.next=6,o(i);case 6:Z(!1),r("success","Owner information updated successfully."),f(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),r("error",e.t0.message),Z(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}());return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(T.Z,{title:"Owner",onPress:function(){f(!0)},rightElement:(0,z.jsx)(E.Z,{}),children:[(0,z.jsxs)(u.Z,{style:{justifyContent:"flex-start",marginVertical:H(12.5)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:I(15),width:I(350),color:"#303030"},children:"Name"}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:I(15),color:"#303030"},children:t&&t.name})]}),t&&t.postcardname&&(0,z.jsxs)(u.Z,{style:{justifyContent:"flex-start",marginVertical:H(12.5)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:I(15),width:I(350),color:"#303030"},children:"Postcard Name"}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:I(15),color:"#303030"},children:t&&t.postcardname})]}),(0,z.jsxs)(u.Z,{style:{justifyContent:"flex-start",marginVertical:H(12.5)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:I(15),width:I(350),color:"#303030"},children:"Gender"}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:I(15),color:"#303030"},children:t&&t.gender?t.gender:"N/A"})]}),(0,z.jsxs)(u.Z,{style:{justifyContent:"flex-start",marginVertical:H(12.5)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:I(15),width:I(350),color:"#303030"},children:"Age"}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:I(15),color:"#303030"},children:t&&t.age_range?t.age_range:"N/A"})]})]}),(0,z.jsx)(R.default,{placement:"top",size:"lg",header:"Owner Information",desc:"Edit this to change the appearance of the owner name on your\r postcard.",isOpen:h,close:function(){P(),f(!1)},buttons:(0,z.jsxs)(u.Z,{space:2,children:[(0,z.jsx)(F.default,{space:2,label:"Cancel",variant:"outline",onPress:function(){P(),f(!1)}}),(0,z.jsx)(F.default,{space:3,isLoading:x,label:"Save",onPress:b(k)})]}),children:(0,z.jsx)(c.Z,{style:{height:H(50)},children:(0,z.jsx)(A.Z,{isRequired:!0,name:"postcardname",label:"Owner Name ",placeholder:"Enter owner name",control:w,rules:{required:!0,message:"Please enter owner name"},style:{marginTop:H(-20)},invalid:!!S.postcardname,error:S.postcardname?S.postcardname.message:"",inputStyle:{}})})})]})},O=r(23093),L=g.ZP.vw,B=g.ZP.vh,D=function(e){var t=e.property,r=e._showAlert,o=e.statuslist,c=(0,m.I0)(),d=(0,i.useState)(!1),p=(0,s.Z)(d,2),h=p[0],f=p[1],g=(0,i.useState)(!1),y=(0,s.Z)(g,2),x=(y[0],y[1]),Z=(0,_.cI)({mode:"all",defaultValues:{status:t&&t.status?t.status._id:""}}),j=Z.control,w=Z.handleSubmit,b=Z.formState.errors,S=(Z.reset,Z.getValues,Z.trigger),P=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var s,i,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=o.find((function(e){return e._id===a.status}))){e.next=5;break}return r("error","An error occurred."),e.abrupt("return");case 5:return i={_id:t._id,status:{_id:s._id,name:s.name}},console.log(i),l=v.n8(i),x(!0),e.next=11,c(l);case 11:x(!1),r("success","Property status updated successfully."),f(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),r("error",e.t0.message),x(!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),k=o?o.map((function(e){return{label:e.name,value:e._id}})):[];return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(T.Z,{title:"Status",onPress:function(){f((function(e){return!e}))},rightElement:(0,z.jsx)(E.Z,{}),children:(0,z.jsxs)(u.Z,{style:{justifyContent:"flex-start",marginVertical:B(12.5)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:L(15),width:L(350),color:"#303030"},children:"Current Status"}),(0,z.jsxs)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:L(15),color:"#303030",height:B(30)},children:[!h&&t&&t.status&&t.status.name,h&&(0,z.jsx)(O.Z,{style:{marginTop:B(-10)},control:j,items:k,name:"status",placeholder:"Select status",onChange:function(){S("status"),w(P)()},invalid:!!b.Status,error:b.status?b.status.message:"",rules:{required:{value:!0,message:"Please select a status."}}})]})]})})})},M=r(42131),W=r(73528),Y=r.n(W),N=g.ZP.vw,q=g.ZP.vh,G=function(e){var t=e.property,r=e._showAlert,o=(0,m.I0)(),d=(0,i.useState)(!1),p=(0,s.Z)(d,2),f=(p[0],p[1],(0,i.useState)(!1)),g=(0,s.Z)(f,2),y=g[0],x=g[1],Z=(0,_.cI)({mode:"all",defaultValues:{note:""}}),j=Z.control,w=Z.handleSubmit,b=Z.formState.errors,S=Z.reset,P=(Z.getValues,function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var s,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={_id:t._id,note:a.note},i=v.S2(s),x(!0),e.next=6,o(i);case 6:x(!1),r("success","Note saved successfully."),S(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),r("error",e.t0.message),x(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),k=function(e){var t=e.item;return(0,z.jsxs)(c.Z,{style:{paddingVertical:5},children:[(0,z.jsx)(l.Z,{style:{color:"rgba(0,0,0,1)",fontSize:14,fontFamily:"Poppins"},children:t.note}),(0,z.jsx)(l.Z,{style:{color:"rgba(0,0,0,0.5)",fontSize:11,fontFamily:"Poppins"},children:t.createdname+" - "+Y()(t.created).format("MM/DD/YYYY - hh:mm A")})]})},C=function(e){var t=e.notes;return(0,z.jsx)(M.p,{marginBottom:5,maxHeight:200,children:t&&t.length>0&&t.map((function(e,t){return(0,z.jsx)(k,{item:e},"n-"+t)}))})};return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(T.Z,{title:"Notes",children:[(0,z.jsxs)(u.Z,{children:[(0,z.jsx)(A.Z,{isRequired:!0,name:"note",placeholder:"Type your note and hit return",control:j,rules:{required:!0,message:"Please enter your note"},onSubmitEditing:function(e){w(P)()},style:{marginTop:q(20)},invalid:!!b.note,error:b.note?b.note.message:"",inputStyle:{}}),y&&(0,z.jsx)(h.Z,{marginLeft:N(-30),marginTop:q(10)})]}),(0,z.jsx)(C,{notes:t.notes})]})})},U=r(1413),J=r(70571),K=r(29996),X=r(867),$=r(90914),Q=g.ZP.vw,ee=g.ZP.vh,te=function(e){var t=e.property,r=e._showAlert,o=e.searching,d=e.doSmartSearch,h=(0,i.useRef)(),f=(0,m.I0)(),g=(0,i.useState)(!1),y=(0,s.Z)(g,2),Z=y[0],j=y[1],b=(0,i.useState)(!1),S=(0,s.Z)(b,2),P=S[0],k=S[1],C=(0,i.useState)({}),E=(0,s.Z)(C,2),I=E[0],H=E[1],V=t&&t.phones?t.phones:[],O=(0,_.cI)({mode:"all",defaultValues:(0,U.Z)({},I)}),L=O.control,B=O.handleSubmit,D=O.formState.errors,M=O.reset,W=O.getValues,Y=O.setValue,N=O.trigger,q=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var s,i,o,l,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={label:a.label,phone:a.phone},i=a.label+" Phone number Saved successfully!",I&&I.phone?(i=a.label+" Phone number updated successfully!",s.edit=I.phone,s.smartsearch=I.smartsearch,a.default&&(s.default=!0,(o=V.find((function(e){return!0===e.default})))&&o.phone!==s.edit&&(s.defaultPhone=o.phone))):V&&0===V.length&&(s.default=!0),l={_id:t._id,phones:[s]},c=v.Vf(l),k(!0),e.next=9,f(c);case 9:r("success",i),k(!1),M(),j(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),r("error",e.t0.message),k(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),G=function(e){var t=(""+e).replace(/\D/g,"").match(/^(1|)?(\d{3})(\d{3})(\d{4})$/);return t?[t[1]?"+1 ":"","(",t[2],") ",t[3],"-",t[4]].join(""):null},te=function(e){return(0,z.jsxs)(p.ZP,{onHoverIn:function(){},onHoverOut:function(){},onPress:function(){e.data.default&&e.data.smartsearch||(j(!0),Y("phone",e.phone),Y("label",e.label),Y("default",e.data.default),H(e.data))},_web:{backgroundColor:"white"},style:{borderRadius:10,height:ee(48),margin:ee(10),paddingTop:ee(5),borderColor:x.Z.primary,borderWidth:1,paddingHorizontal:Q(10)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:Q(13),color:"#303030"},children:G(e.phone)}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:Q(11),color:"#303030"},children:e.label}),e.data.default&&(0,z.jsx)(w.Z,{rounded:"full",style:{position:"absolute",right:-5,top:-5,backgroundColor:"white"},children:(0,z.jsx)(J.r,{color:x.Z.primary})})]})};return(0,z.jsxs)(c.Z,{children:[(0,z.jsx)(T.Z,{title:"Phones",onPress:function(){H({}),M(),j(!0)},children:(0,z.jsx)(K.O,{ListEmptyComponent:t.smartsearch?(0,z.jsx)(l.Z,{style:{marginVertical:ee(10)},children:"No phone numbers found with Smart Search"}):null,scrollEnabled:V.length>1,ListHeaderComponent:t.smartsearch?null:(0,z.jsx)(F.default,{onPress:d,isLoading:o,label:"Smart Search",style:{marginVertical:ee(10)}}),horizontal:!0,data:V.filter((function(e){return""!==e.phone})),renderItem:function(e){var r=e.item;return(0,z.jsx)(te,{data:r,phone:r.phone,label:r.label,propertyId:t._id,smartsearch:r.smartsearch})},keyExtractor:function(e,t){return t.toString()}})}),(0,z.jsxs)(R.default,{size:"lg",header:"Phone Number",bodyHeight:ee(80),isOpen:Z,close:function(){M(),j(!1)},buttons:(0,z.jsxs)(u.Z,{space:2,children:[(0,z.jsx)(F.default,{space:2,color:"rgba(0,0,0, 0.5 )",label:"Cancel",variant:"outline",onPress:function(){M(),j(!1)}}),(0,z.jsx)(F.default,{space:3,isLoading:P,label:"Save",onPress:B(q)})]}),children:[(0,z.jsxs)(u.Z,{style:{justifyContent:"space-between",zIndex:9999,marginTop:ee(-20)},space:4,children:[(0,z.jsx)(A.Z,{isReadOnly:I&&I.smartsearch,style:{width:"48%",marginLeft:1},isRequired:!0,name:"label",label:"Label ",placeholder:"Enter phone label",control:L,rules:{required:!0,message:"Please enter phone label"},invalid:!!D.label,error:D.label?D.label.message:"",inputStyle:{}}),(0,z.jsx)($.Z,{isReadOnly:I&&I.smartsearch,style:{width:"48%"},ref:h,control:L,isRequired:!0,name:"phone",label:"Phone Number ",placeholder:"Phone",initialValue:I&&I.phone?I.phone.replace(/ /g,"").replace("+",""):"",invalid:!!D.phone,error:D.phone?D.phone.message:"",rules:{required:{value:!0,message:"Please enter a valid phone number."}}})]}),!I.default&&(0,z.jsxs)(u.Z,{style:{marginTop:ee(20),justifyContent:"flex-start",alignItems:"center",zIndex:9999,marginHorizontal:ee(2),paddingVertical:ee(10)},children:[(0,z.jsx)(X.X,{name:"default",onChange:function(e){console.log(e),Y("default",e),N("default")},isChecked:W("default")||!1}),(0,z.jsx)(l.Z,{style:{marginLeft:Q(10),fontSize:Q(15),fontFamily:"Poppins",color:"rgba(0,0,0,0.8)"},children:"Default"})]})]})]})},re=g.ZP.vw,ne=g.ZP.vh,ae=function(e){var t=e.property,r=e._showAlert,o=e.searching,c=(e.setSearching,e.doSmartSearch),d=(0,m.I0)(),h=(0,i.useState)(!1),f=(0,s.Z)(h,2),g=f[0],y=f[1],Z=(0,i.useState)(!1),j=(0,s.Z)(Z,2),b=j[0],S=j[1],P=(0,i.useState)({}),k=(0,s.Z)(P,2),C=k[0],E=k[1],I=t&&t.emails?t.emails:[],H=(0,_.cI)({mode:"all",defaultValues:(0,U.Z)({},C)}),V=H.control,O=H.handleSubmit,L=H.formState.errors,B=H.reset,D=H.getValues,M=H.setValue,W=H.trigger,Y=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var s,i,o,l,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={label:a.label,email:a.email},i=a.label+" Email Address saved successfully!",C&&C.email?(i=a.label+" Email Address updated successfully!",s.edit=C.email,s.smartsearch=C.smartsearch,a.default&&(s.default=!0,(o=I.find((function(e){return!0===e.default})))&&o.email!==s.edit&&(s.defaultEmail=o.email))):I&&0===I.length&&(s.default=!0),l={_id:t._id,emails:[s]},c=v.RA(l),S(!0),e.next=9,d(c);case 9:r("success",i),S(!1),B(),y(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),r("error",e.t0.message),S(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){return(0,z.jsxs)(p.ZP,{onHoverIn:function(){},onHoverOut:function(){},onPress:function(){e.data.default&&e.data.smartsearch||(y(!0),M("email",e.email),M("label",e.label),M("default",e.data.default),E(e.data))},_web:{backgroundColor:"white"},style:{borderRadius:10,height:ne(48),margin:ne(10),paddingTop:ne(5),borderColor:x.Z.primary,borderWidth:1,paddingHorizontal:re(10)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:re(13),color:"#303030"},children:e.email}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:re(11),color:"#303030"},children:e.label}),e.data.default&&(0,z.jsx)(w.Z,{rounded:"full",style:{position:"absolute",right:-5,top:-5,backgroundColor:"white"},children:(0,z.jsx)(J.r,{color:x.Z.primary})})]})};return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(T.Z,{title:"Emails",onPress:function(){E({}),B(),y(!0)},children:(0,z.jsx)(K.O,{ListEmptyComponent:t.smartsearch?(0,z.jsx)(l.Z,{style:{marginVertical:ne(10)},children:"No emails found with Smart Search"}):null,scrollEnabled:I.length>1,ListHeaderComponent:t.smartsearch?null:(0,z.jsx)(F.default,{onPress:c,isLoading:o,label:"Smart Search",style:{marginVertical:ne(10)}}),horizontal:!0,data:I.filter((function(e){return""!==e.email})),renderItem:function(e){var r=e.item;return(0,z.jsx)(N,{data:r,email:r.email,label:r.label,propertyId:t._id,smartsearch:r.smartsearch})},keyExtractor:function(e,t){return t.toString()}})}),(0,z.jsxs)(R.default,{bodyHeight:ne(80),size:"lg",header:"Email",isOpen:g,close:function(){B(),y(!1)},buttons:(0,z.jsxs)(u.Z,{space:2,children:[(0,z.jsx)(F.default,{space:2,color:"rgba(0,0,0, 0.5 )",label:"Cancel",variant:"outline",onPress:function(){B(),y(!1)}}),(0,z.jsx)(F.default,{space:3,isLoading:b,label:"Save",onPress:O(Y)})]}),children:[(0,z.jsxs)(u.Z,{style:{justifyContent:"space-between",zIndex:9999,marginTop:ne(-20)},space:4,children:[(0,z.jsx)(A.Z,{isReadOnly:C&&C.smartsearch,style:{width:"48%"},isRequired:!0,name:"label",label:"Label ",placeholder:"Enter email label",control:V,rules:{required:!0,message:"Please enter email label"},invalid:!!L.label,error:L.label?L.label.message:"",inputStyle:{}}),(0,z.jsx)(A.Z,{isReadOnly:C&&C.smartsearch,style:{width:"48%"},isRequired:!0,name:"email",label:"Email ",placeholder:"Enter email",control:V,rules:{required:!0,message:"Please enter valid email address",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"invalid email address"}},invalid:!!L.email,error:L.email?L.email.message:"",inputStyle:{}})]}),!C.default&&(0,z.jsxs)(u.Z,{style:{marginTop:ne(40),width:re(300),justifyContent:"flex-start",zIndex:9999},children:[(0,z.jsx)(X.X,{name:"default",onChange:function(e){console.log(e),M("default",e),W("default")},isChecked:D("default")||!1}),(0,z.jsx)(l.Z,{style:{marginLeft:re(10),fontSize:re(15),fontFamily:"Poppins",color:"rgba(0,0,0,0.8)"},children:"Default"})]})]})]})},se=r(37762),ie=r(22019),oe=r(4200),le=r(75247),ce=function(e){var t=e.property,r=e._showAlert,o=(0,i.useRef)(),l=(0,m.I0)(),c=(0,i.useState)(!1),d=(0,s.Z)(c,2),u=(d[0],d[1]),f=(0,i.useState)({}),y=(0,s.Z)(f,2),Z=y[0],j=(y[1],(0,i.useState)(0)),b=(0,s.Z)(j,2),S=(b[0],b[1]),P=t&&t.pics?t.pics:[],k=((0,_.cI)({mode:"all",defaultValues:(0,U.Z)({},Z)}).formState.errors,function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a,s,i){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i(!0),!s||0!==s.length){e.next=5;break}return r("error","Something went wrong."),e.abrupt("return");case 5:return o=v.Ji({pics:s.map((function(e){return e.default=e.id===a.id,e})),_id:t._id},null),e.next=8,l(o);case 8:r("success","Image is set default."),i(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),i(!1),r("error",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r,n){return e.apply(this,arguments)}}()),C=function(e){var t=e.data,r=e.property,n=(0,i.useState)(!1),a=(0,s.Z)(n,2),o=a[0],l=a[1];return(0,z.jsx)(p.ZP,{style:{backgroundColor:"white",borderRadius:10,marginVertical:(0,g.vh)(10),borderColor:x.Z.primary,marginRight:(0,g.vw)(10)},onPress:function(){!1===t.default&&k(t,r.pics,l)},children:o?(0,z.jsx)(w.Z,{style:{width:(0,g.vw)(180),height:(0,g.vh)(100),borderRadius:10,overflow:"hidden"},children:(0,z.jsx)(h.Z,{size:"sm",color:x.Z.primary})}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ie.Z,{style:{width:(0,g.vw)(180),height:(0,g.vh)(100),borderRadius:10,overflow:"hidden"},resizeMode:"cover",source:{uri:"".concat(oe.G3,"/properties/").concat(r._id,"/").concat(t.id)},alt:"Pic"}),t.default&&(0,z.jsx)(w.Z,{rounded:"full",style:{position:"absolute",right:-5,top:-5,backgroundColor:"white"},children:(0,z.jsx)(J.r,{color:x.Z.primary})})]})})},R=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var s,i,c,d,p,h,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(0,oe.PR)(),i=s.token,S(0),u(!0),c=(0,se.Z)(o.current.files),e.prev=4,c.s();case 6:if((d=c.n()).done){e.next=31;break}if(p=d.value,-1!==["image/jpeg","image/jpg","image/png"].indexOf(p.type)){e.next=13;break}return u(!1),r("error","Incorrect file type."),e.abrupt("return");case 13:if(!(p.size>2097152e3)){e.next=17;break}return u(!1),r("error","Exceeded size 2GB."),e.abrupt("return");case 17:h=new FormData,f=new XMLHttpRequest,h.append("_id",t._id),h.append("default",!1),h.append("picture",p),f.addEventListener("load",(function(e){u(!1)})),f.upload.addEventListener("progress",(function(e){var t=e.loaded/e.total*100;S(t)})),f.onreadystatechange=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!==this.readyState||200!==this.status){e.next=8;break}if(!(t=JSON.parse(this.responseText)).success){e.next=6;break}if(!t.data){e.next=6;break}return e.next=6,l({type:le.uw,data:t.data});case 6:e.next=9;break;case 8:this.status>200&&(r("error","Cannot add image, something went wrong."),u(!1));case 9:case"end":return e.stop()}}),e,this)}))),f.responseType="text",f.open("POST","".concat(oe.T5,"/properties/upload/picture"),!0),f.setRequestHeader("Authorization","Bearer "+i),f.send(h);case 29:e.next=6;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(4),c.e(e.t0);case 36:return e.prev=36,c.f(),e.finish(36);case 39:o.current.value="";case 40:case"end":return e.stop()}}),e,null,[[4,33,36,39]])})));return function(){return e.apply(this,arguments)}}(),A=(0,i.useCallback)((function(e){var r=e.item;return(0,z.jsx)(C,{data:r,property:t,propertyId:t._id})}),[P.length]);return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(T.Z,{title:"Images",onPress:function(){S(0),o.current.click()},children:[(0,z.jsx)(K.O,{horizontal:!0,data:P,renderItem:A,keyExtractor:function(e,t){return e.id.toString()},scrollEnabled:P.length>1,removeClippedSubviews:!0}),(0,z.jsx)("input",{ref:o,accept:"image/jpg",name:"imgupload",type:"file",onChange:R,style:{display:"none"}})]})})},de=r(29699),ue=g.ZP.vw,pe=g.ZP.vh,he=function(e){var t=e.property,r=e._showAlert,o=(0,m.I0)(),d=(0,m.v9)((function(e){return e.properties.tags})),f=(0,i.useState)(!1),g=(0,s.Z)(f,2),y=g[0],Z=g[1],j=(0,i.useState)(!1),b=(0,s.Z)(j,2),P=b[0],k=b[1],C=(0,i.useState)(!1),E=(0,s.Z)(C,2),I=E[0],H=E[1],V=(0,i.useState)(t.tags),O=(0,s.Z)(V,2),L=O[0],B=O[1],D=(0,_.cI)({mode:"all",defaultValues:{postcardname:t&&t.postcardname?t.postcardname:t.name}}),M=D.control,W=D.handleSubmit,Y=D.formState.errors,N=D.reset,q=(D.getValues,t?t.tags:[]),G=function(e){var t=e.item,r=!!L.find((function(e){return e._id===t._id}));return(0,z.jsx)(p.ZP,{onPress:function(){B((function(e){return r?e.filter((function(e){return e._id!==t._id})):e.concat({_id:t._id,name:t.name})}))},style:{backgroundColor:r?x.Z.primary:"#9B9B9B",borderRadius:24,margin:5,alignSelf:"flex-start"},children:(0,z.jsxs)(S.Z,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingVertical:7,paddingHorizontal:10},children:[(0,z.jsx)(de.J,{style:{fontSize:12,color:"white"}}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:ue(14),color:"white",alignSelf:"flex-start",marginLeft:5,marginTop:-2},children:" "+t.name})]})})},U=function(e){var t=e.data;return(0,z.jsxs)(S.Z,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingVertical:7,paddingHorizontal:10,backgroundColor:x.Z.primary,margin:5,borderRadius:24},children:[(0,z.jsx)(de.J,{style:{fontSize:12,color:"white"}}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:ue(13),color:"white",alignSelf:"flex-start",marginLeft:ue(5)},children:" "+t.name})]})},J=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),e.next=4,o(v.xI({_id:t._id,tags:L||[]}));case 4:r("success","Property tags updated."),H(!1),Z(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r("error",e.t0.message),H(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=v.SS({name:t.name,default:!1}),k(!0),e.next=5,o(a);case 5:return e.next=7,o(v.$3());case 7:k(!1),r("success","Tag created successfully."),N(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),r("error",e.t0.message),k(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(T.Z,{title:"Tags",onPress:function(){Z(!0)},children:(0,z.jsxs)(c.Z,{style:{flex:1,marginTop:5,marginBottom:16,paddingTop:5},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:ue(13),color:"rgba(0,0,0, 0.8)"},children:"What do you notice when looking at the property?"}),(0,z.jsx)(u.Z,{style:{flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",flexWrap:"wrap"},children:q&&q.length>0&&q&&q.map((function(e,t){return(0,z.jsx)(U,{data:e},t.toString())}))})]})}),(0,z.jsxs)(R.default,{size:"lg",header:"Tags",isOpen:y,close:function(){N(),Z(!1)},buttons:(0,z.jsxs)(u.Z,{space:2,children:[(0,z.jsx)(F.default,{space:2,color:"rgba(0,0,0, 0.5 )",label:"Cancel",variant:"outline",onPress:function(){N(),Z(!1)}}),(0,z.jsx)(F.default,{space:3,isLoading:I,label:"Save",onPress:(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J();case 1:case"end":return e.stop()}}),e)})))})]}),children:[(0,z.jsxs)(u.Z,{children:[(0,z.jsx)(A.Z,{isRequired:!0,name:"name",placeholder:"Enter tag name",control:M,rules:{required:!0,message:"Please enter tag name"},style:{marginTop:pe(-10)},invalid:!!Y.name,error:Y.name?Y.name.message:"",inputStyle:{},rightIcon:(0,z.jsx)(z.Fragment,{}),onSubmitEditing:function(){W(K)()}}),P?(0,z.jsx)(w.Z,{style:{marginLeft:ue(-30),marginTop:pe(-15)},children:(0,z.jsx)(h.Z,{})}):(0,z.jsx)(p.ZP,{onPress:function(){W(K)()},style:{zIndex:999},children:(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:ue(15),color:x.Z.primary,marginLeft:ue(-40)},children:"ADD"})})]}),(0,z.jsx)(u.Z,{flexWrap:"wrap",justifyContent:"flex-start",marginTop:pe(10),children:d&&d.length>0&&d.map((function(e){return(0,z.jsx)(G,{item:e,defaultTag:!0},e._id)}))})]})]})},fe=r(35880),me=r(73674),ge=g.ZP.vw,ye=g.ZP.vh,xe=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),ve=function(e){var t=e.property,r=(e._showAlert,t.mkt),n=r.price===r.sold?"no":r.price>r.sold?"high":"low",a="-"!==r.sold&&0!==r.sold&&r.sold?(0,g.zz)(r.sold,r.price):0;return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(T.Z,{title:"On Market",children:[(0,z.jsxs)(u.Z,{style:{justifyContent:"flex-start",marginVertical:ye(20)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:ge(15),width:ge(350),color:"#303030"},children:"Estimate"}),(0,z.jsxs)(u.Z,{children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:ge(15),color:"#303030"},children:r&&r.price?xe.format(r.price):"-"}),a>0&&(0,z.jsxs)(u.Z,{justifyContent:"flex-start",alignItems:"center",children:["high"===n&&(0,z.jsx)(fe.Z,{}),"low"===n&&(0,z.jsx)(me.Z,{}),(0,z.jsxs)(l.Z,{style:{fontSize:ge(13),fontFamily:"Poppins",color:"high"===n?"#4fc567":"#fb4949"},children:["(",a+"%",")"]})]})]})]}),(0,z.jsxs)(u.Z,{style:{marginBottom:ye(10)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:ge(15),width:ge(350),color:"#303030"},children:"Last Sale"}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:ge(15),color:"#303030"},children:r&&r.sold?xe.format(r.sold):"-"})]})]})})},Ze=function(e){var t=e.property,r=e._showAlert,n=e.statuslist,a=e.tagslist,s=e.searching,i=e.setSearching,o=e.doSmartSearch;return(0,z.jsxs)(c.Z,{space:4,flex:1,style:{marginBottom:(0,g.vh)(20)},children:[(0,z.jsx)(V,{_showAlert:r,property:t}),t&&t.mkt&&(0,z.jsx)(ve,{_showAlert:r,property:t,statuslist:n}),(0,z.jsx)(D,{_showAlert:r,property:t,statuslist:n}),(0,z.jsx)(G,{_showAlert:r,property:t}),(0,z.jsx)(te,{_showAlert:r,property:t,searching:s,setSearching:i,doSmartSearch:o}),(0,z.jsx)(ae,{_showAlert:r,property:t,searching:s,setSearching:i,doSmartSearch:o}),(0,z.jsx)(he,{_showAlert:r,property:t,tagslist:a}),(0,z.jsx)(ce,{_showAlert:r,property:t})]})},je=r(94655),we=function(e){var t=e.property,r=e._showAlert,o=(0,m.I0)(),d=(0,i.useState)(!1),h=(0,s.Z)(d,2),f=h[0],y=h[1],Z=(0,i.useState)({}),j=(0,s.Z)(Z,2),b=j[0],S=j[1],P=(0,i.useState)(null),k=(0,s.Z)(P,2),C=k[0],E=k[1],I=(0,i.useState)(!1),H=(0,s.Z)(I,2),V=H[0],O=H[1],L=(0,i.useState)(!1),B=(0,s.Z)(L,2),D=B[0],M=B[1],W=(0,_.cI)({mode:"all",defaultValues:(0,U.Z)({},b)}),Y=W.control,N=W.handleSubmit,q=W.formState.errors,G=W.reset,$=W.setValue,Q=W.getValues,ee=W.trigger,te=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var s,i,l,c,d,u,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=a.address1.trim()+", "+a.city.trim()+", "+a.state.trim()+" "+a.zip.trim(),i={type:"user",address1:a.address1.trim(),address2:a.address2?a.address2.trim():"",city:a.city.trim(),state:a.state.trim(),zip:a.zip.trim(),ff:s,fulladdress:s},l="Postal address ".concat(s," saved successfully."),b&&b.addid?(l="Postal address ".concat(s," updated successfully."),i.addid=b.addid,a.default?(i.default=!0,i.name=t.postcardname||t.name,(c=t.addresses.find((function(e){return!0===e.default})))&&c.addid!==i.edit&&(i.defaultAddress=c)):i.default=b.default):t.addresses&&0===t.addresses.length?i.default=!0:a.default?(i.default=!0,i.name=t.postcardname||t.name,(d=t.addresses.find((function(e){return!0===e.default})))&&d.addid!==i.edit&&(i.defaultAddress=d)):i.default=!1,u={_id:t._id,addresses:[i]},p=v.sB(u),M(!0),e.next=10,o(p);case 10:M(!1),r("success",l),y(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),r("error",e.t0.message),M(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),re=function(e){var t=e.item;return(0,i.useEffect)((function(){if(V&&C&&C.shortaddress){var e=C.shortaddress;$("address1",e.address1),ee("address1"),$("address2",e.address2),ee("address2"),$("city",e.city),ee("city"),$("state",e.state),ee("state"),$("zip",e.postcode),ee("zip"),O(!1)}}),[]),(0,z.jsxs)(p.ZP,{onPress:function(){y(!0),G(),$("address1",t.address1),$("address2",t.address2),$("city",t.city),$("state",t.state),$("zip",t.zip),S(t)},style:{backgroundColor:"white",height:(0,g.vh)(60),borderRadius:5,padding:(0,g.vh)(10),marginRight:(0,g.vw)(5),marginVertical:(0,g.vh)(10),borderColor:x.Z.primary,borderWidth:1},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:(0,g.vw)(15),color:"rgba(0,0,0,0.8)"},children:t.ff}),(0,z.jsxs)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:(0,g.vw)(13),color:"rgba(0,0,0,0.5)"},children:["(",t.type||"user added",")"]}),t.default&&(0,z.jsx)(w.Z,{rounded:"full",style:{position:"absolute",right:-5,top:-5,backgroundColor:"white"},children:(0,z.jsx)(J.r,{color:x.Z.primary})})]})};return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(T.Z,{title:"Postal Address",onPress:function(){G(),S({}),y(!0)},children:[(0,z.jsx)(l.Z,{children:"Selected address will be used for the campaign."}),(0,z.jsx)(K.O,{ListEmptyComponent:(0,z.jsx)(w.Z,{w:"90%",style:{flexDirection:"row"},children:(0,z.jsx)(l.Z,{w:"90%",style:{textAlign:"center",flex:1,flexWrap:"wrap",flexShrink:1},children:"No postal addresses found, add one to run the campaign"})}),horizontal:!0,data:t.addresses,renderItem:function(e){var t=e.item;return(0,z.jsx)(re,{item:t,selected:!!t.default})},keyExtractor:function(e,t){return t.toString()},scrollEnabled:t.addresses&&t.addresses.length>1})]}),(0,z.jsx)(R.default,{placement:"top",size:"lg",header:"Postal Address",isOpen:f,close:function(){G(),y(!1)},buttons:(0,z.jsxs)(u.Z,{space:2,children:[(0,z.jsx)(F.default,{space:2,label:"Cancel",variant:"outline",onPress:function(){G(),y(!1)},style:{height:(0,g.vh)(36)}}),(0,z.jsx)(F.default,{space:3,isLoading:D,label:"Save",onPress:N(te),style:{height:(0,g.vh)(36)}})]}),children:(0,z.jsxs)(c.Z,{paddingHorizontal:(0,g.vw)(10),marginTop:(0,g.vh)(-20),marginBottom:(0,g.vh)(20),space:6,children:["owner"!==b.type&&"property"!==b.type&&(0,z.jsx)(je.Z,{setAddress:E,setRefresh:O}),(0,z.jsx)(A.Z,{isReadOnly:"owner"===b.type||"property"===b.type,isRequired:!0,name:"address1",label:"Address1 ",placeholder:"Enter address 1",control:Y,rules:{required:!0,message:"Please enter address 1"},style:{marginTop:(0,g.vh)(-20)},invalid:!!q.address1,error:q.address1?q.address1.message:"",inputStyle:{}}),(0,z.jsx)(A.Z,{isReadOnly:"owner"===b.type||"property"===b.type,name:"address2",label:"Address2 ",placeholder:"Enter address2",control:Y,rules:{},invalid:!!q.address2,error:q.address2?q.address2.message:"",inputStyle:{}}),(0,z.jsxs)(u.Z,{space:4,justifyContent:"space-between",children:[(0,z.jsx)(A.Z,{isReadOnly:"owner"===b.type||"property"===b.type,style:{width:"48%"},isRequired:!0,name:"city",label:"City ",placeholder:"Enter city",control:Y,rules:{required:!0,message:"Please enter city"},invalid:!!q.city,error:q.city?q.city.message:"",inputStyle:{}}),(0,z.jsxs)(u.Z,{space:4,style:{width:"48%"},justifyContent:"space-between",children:[(0,z.jsx)(A.Z,{isReadOnly:"owner"===b.type||"property"===b.type,style:{width:"48%"},isRequired:!0,name:"state",label:"State ",placeholder:"Enter state",control:Y,rules:{required:!0,message:"Please enter state"},invalid:!!q.state,error:q.state?q.state.message:"",inputStyle:{}}),(0,z.jsx)(A.Z,{isReadOnly:"owner"===b.type||"property"===b.type,style:{width:"48%"},isRequired:!0,maxLength:5,minLength:5,name:"zip",label:"Zipcode ",placeholder:"Enter zip",control:Y,rules:{pattern:{value:/^[0-9]{5}?$/,message:"Invalid zipcode"},required:{value:!0,message:"Please enter zipcode"},maxLength:{value:5,message:"Invalid zipcode"},minLength:{value:5,message:"Invalid zipcode"}},invalid:!!q.zip,error:q.zip?q.zip.message:"",inputStyle:{}})]})]}),!b.default&&(0,z.jsxs)(u.Z,{style:{marginTop:(0,g.vh)(10),justifyContent:"flex-start",zIndex:9999},children:[(0,z.jsx)(X.X,{name:"default",onChange:function(e){$("default",e),ee("default")},isChecked:Q("default")||!1}),(0,z.jsx)(l.Z,{style:{marginLeft:(0,g.vw)(10),fontSize:(0,g.vw)(15),fontFamily:"Poppins",color:"rgba(0,0,0,0.8)"},children:"Default"})]})]})})]})},be=function(e){var t=e.property,r=e._showAlert,o=e.campaignType,d=(0,m.I0)(),p=(0,i.useState)(!1),h=(0,s.Z)(p,2),f=h[0],y=h[1],x=(0,i.useState)(!1),Z=(0,s.Z)(x,2),j=Z[0],w=Z[1],b=(0,m.v9)((function(e){return e.campaigns})).userCampaigns,S=b.length>0?b.map((function(e){return{label:e.name,value:e._id}})):[];S.length&&S.unshift({label:"No Campaign",value:""});var P=(0,_.cI)({mode:"all",defaultValues:{campaign:t&&t.campaign&&t.campaign._id}}),k=P.control,C=P.handleSubmit,A=P.formState.errors,E=P.reset,I=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),s=v.LG({_id:t._id,campaign:b.find((function(e){return e._id===a.campaign}))}),e.next=5,d(s);case 5:w(!1),r("success","Campaign attached successfully."),y(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),r("error",e.t0.message),w(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(T.Z,{title:"Attached Campaign",onPress:function(){y(!0)},children:t&&t.campaign&&t.campaign.name?(0,z.jsxs)(c.Z,{children:[(0,z.jsxs)(u.Z,{style:{justifyContent:"flex-start",marginVertical:(0,g.vh)(12.5)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:(0,g.vw)(15),width:(0,g.vw)(350),color:"#303030"},children:"Name"}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:(0,g.vw)(15),color:"#303030"},children:t&&t.campaign?t.campaign.createdby===t.campaign.team?t.campaign.name+" (Owner)":t.campaign.name+" (User)":"N/A"})]}),(0,z.jsxs)(u.Z,{style:{justifyContent:"flex-start",marginVertical:(0,g.vh)(12.5)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:(0,g.vw)(15),width:(0,g.vw)(350),color:"#303030"},children:"Type"}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:(0,g.vw)(15),color:"#303030"},children:o})]}),(0,z.jsxs)(u.Z,{style:{justifyContent:"flex-start",marginVertical:(0,g.vh)(12.5)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:(0,g.vw)(15),width:(0,g.vw)(350),color:"#303030"},children:"Steps"}),(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:(0,g.vw)(15),color:"#303030"},children:t&&t.campaign?t.campaign.steps.length:""})]})]}):(0,z.jsx)(l.Z,{style:{marginVertical:(0,g.vh)(10)},children:"No Campaign Attached"})}),(0,z.jsx)(R.default,{size:"lg",header:"Attach Campaign",height:(0,g.vh)(100),bodyHeight:(0,g.vh)(100),isOpen:f,close:function(){E(),y(!1)},buttons:(0,z.jsxs)(u.Z,{space:2,children:[(0,z.jsx)(F.default,{space:2,label:"Cancel",variant:"outline",onPress:function(){E(),y(!1)},style:{height:(0,g.vh)(36)}}),(0,z.jsx)(F.default,{space:2,isLoading:j,label:"Save",onPress:C(I),style:{height:(0,g.vh)(36)}})]}),children:(0,z.jsx)(O.Z,{isRequired:!0,name:"campaign",label:"Select a campaign ",placeholder:"Select campaign",control:k,items:S,rules:{required:!0,message:"Please select a campaign"},style:{marginTop:(0,g.vh)(-20)},invalid:!!A.campaign,error:A.campaign?A.campaign.message:"",inputStyle:{}})})]})},Se=r(80904),Pe=g.ZP.vw,ke=g.ZP.vh,ze=function(e){var t=e.property,r=e.doSmartSearch,n=e.searching,a=e.campaignType,o=(0,i.useState)(!1),d=(0,s.Z)(o,2),u=(d[0],d[1],t&&t.mailers&&t.mailers.emails?t.mailers.emails:[]);return(0,z.jsx)(T.Z,{title:"Email Activity",children:(0,z.jsxs)(c.Z,{style:{flexDirection:"column",marginHorizontal:Pe(20),marginVertical:ke(40)},children:[u&&0===u.filter((function(e){return null!==e})).length&&(0,z.jsx)(w.Z,{m:2,children:!t.smartsearch&&t&&t.campaign&&t.campaign.name&&"E-mail"===a||"Mail & E-mail"===a?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:Pe(13),marginBottom:ke(10)},children:"Add an email address to get the email campaign attached."}),(0,z.jsx)(F.default,{isLoading:n,label:"Smart Search",onPress:r})]}):(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:Pe(13),marginBottom:ke(10)},children:"Attach a campaign to see email activity."})}),u&&u.length>0&&u.filter((function(e){return null!==e})).map((function(e,t){return(0,z.jsxs)(Se.G,{style:{flexDirection:"row"},children:[(0,z.jsx)(Se.G,{style:{borderColor:"transparent",borderStartColor:x.Z.primary,borderWidth:Pe(2),paddingVertical:ke(20),marginBottom:ke(13)},children:(0,z.jsx)(w.Z,{style:{fontSize:Pe(20),marginLeft:Pe(-9),marginTop:Pe(-36),zIndex:99},children:e&&e.sent?(0,z.jsx)(J.r,{color:x.Z.primary}):(0,z.jsx)(de.J,{color:x.Z.primary})})}),(0,z.jsxs)(Se.G,{style:{marginBottom:ke(15),marginLeft:Pe(18)},children:[(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins_medium",fontSize:Pe(15),textAlign:"left",color:x.Z.primary,marginTop:ke(-17)},children:"".concat(e.campaign," - step ").concat(e.step," - email ").concat(e.mailer)}),(0,z.jsxs)(l.Z,{style:{fontFamily:"Poppins",fontSize:Pe(13),textAlign:"left",color:"rgba(0,0,0, 0.5)"},children:[e&&!e.sent&&"Scheduled @ "+Y()(e.date).utc().format("MM-DD-YYYY HH:mm")+" UTC",e&&e.sent&&e.sent.failed&&"Failed @ "+Y()(e.sent_date).utc().format("MM-DD-YYYY HH:mm")+" UTC",e&&e.sent&&e.sent.delivered&&"Delivered @ "+Y()(e.sent_date).utc().format("MM-DD-YYYY HH:mm")+" UTC",e&&e.sent&&e.sent.failed&&(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:Pe(13),textAlign:"left",color:"red"},children:"\n"+e.sent.error})]})]})]},t)}))]})})},Ce=r(15483),_e=g.ZP.vw,Te=g.ZP.vh,Re=function(e){var t=e.property,r=(0,i.useState)(!1),n=(0,s.Z)(r,2),a=(n[0],n[1],t&&t.mailers&&t.mailers.postcards?t.mailers.postcards:[]);return(0,z.jsx)(T.Z,{title:"Mail Activity",children:(0,z.jsxs)(c.Z,{style:{flexDirection:"column",marginHorizontal:_e(20),marginVertical:Te(40)},children:[a&&0===a.length&&(0,z.jsx)(w.Z,{m:4,children:(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:_e(13),marginBottom:Te(10)},children:"Attach a campaign to see mail activity."})}),a&&a.length>0&&a.map((function(e,t){var r=Y()().format("YYYY-MM-DD"),n=e.sent&&r>=e.sent.expected_delivery_date,a=e.sent&&e.sent.expected_delivery_date||null,s=e&&e.sent&&e.sent.error||null,i=n||a||s;return(0,z.jsxs)(Se.G,{style:{flexDirection:"row"},children:[(0,z.jsx)(Se.G,{style:{borderColor:"transparent",borderStartColor:x.Z.primary,borderWidth:2,paddingVertical:20,marginBottom:13},children:(0,z.jsx)(w.Z,{style:{fontSize:_e(20),color:x.Z.primary,marginLeft:_e(-10.5),marginTop:_e(-40),zIndex:99},children:e.sent&&e.sent.tracking_events&&e.sent.tracking_events.length>0||e.sent&&e.sent.expected_delivery_date?(0,z.jsx)(J.r,{color:x.Z.primary}):e.sent&&e.sent.error?(0,z.jsx)(Ce.T,{color:x.Z.primary}):(0,z.jsx)(de.J,{color:x.Z.primary})})}),(0,z.jsxs)(Se.G,{style:{marginBottom:15,marginLeft:18},children:[(0,z.jsx)(l.Z,{style:{fontSize:13,fontWeight:"700",textAlign:"left",color:x.Z.primary,marginTop:-17},children:"".concat(e.campaign," - step ").concat(e.step," - mail ").concat(e.mailer)}),(0,z.jsx)(l.Z,{style:{fontSize:14,textAlign:"left",color:"#414141"},children:e.sent&&e.sent.tracking_events&&e.sent.tracking_events.length>0?e.sent.tracking_events.map((function(e){return e.name+" > "})):e.sent&&e.sent.tracking_events&&0===e.sent.tracking_events.length?e.sent?"Scheduled @ "+Y()(e.sent.send_date).utc().format("MM-DD-YYYY HH:mm UTC"):"Scheduled @ "+Y()(e.date).utc().format("MM-DD-YYYY"):"Scheduled"}),(0,z.jsx)(l.Z,{style:{fontSize:14,textAlign:"left",color:"#414141"},children:e&&e.sent&&e.sent.error&&(0,z.jsx)(l.Z,{style:{fontSize:12,textAlign:"left",color:"red"},children:"\n"+e.sent.error.message})}),i&&(0,z.jsxs)(l.Z,{style:{fontSize:14,textAlign:"left",color:"#414141"},children:[n&&"Delivered!",a&&"Expected Delivery:",s&&"Failed"]})]})]},t)}))]})})},Ae=(g.ZP.vw,g.ZP.vh),Fe=function(e){var t=e._showAlert,r=e.property,n=e.searching,a=e.setSearching,s=e.doSmartSearch,i="-";return r&&r.campaign&&r.campaign.steps&&r.campaign.steps.find((function(e){return e.postcardtemplate}))&&(i="Mail"),r&&r.campaign&&r.campaign.steps&&r.campaign.steps.find((function(e){return e.emailtemplate}))&&(i="Mail"===i?i+" & E-mail":"E-mail"),(0,z.jsxs)(c.Z,{space:4,flex:1,marginBottom:Ae(40),children:[(0,z.jsx)(be,{_showAlert:t,property:r,campaignType:i}),(0,z.jsx)(we,{_showAlert:t,property:r}),"E-mail"!==i&&(0,z.jsx)(Re,{_showAlert:t,property:r,searching:n,setSearching:a,doSmartSearch:s,campaignType:i}),"Mail"!==i&&(0,z.jsx)(ze,{_showAlert:t,property:r,searching:n,setSearching:a,doSmartSearch:s,campaignType:i})]})},Ee=function(e){var t=e.user,r=e.setLogout,w=(0,f.s0)(),b=(0,f.UO)().id,S=(0,o.pm)(),P=(0,i.useState)(0),k=(0,s.Z)(P,2),_=k[0],T=k[1],R=(0,i.useState)(!1),A=(0,s.Z)(R,2),F=A[0],E=A[1],I=(0,m.I0)(),H=function(){var e=(0,i.useRef)(!1),t=(0,i.useCallback)((function(){return e.current}),[]);return(0,i.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t}(),V=(0,m.v9)((function(e){return e.properties})),O=V.fetchedProperty,L=V.statuslist,B=(0,m.v9)((function(e){return e.properties.tags})),D=(0,i.useCallback)((function(e,t){S.closeAll(),S.show({duration:2e3,placement:"top",render:function(){var r="red.300";return"error"===e?r="red.300":"success"===e?r="green.300":"info"===e?r="blueGray.300":"warning"===e&&(r="orange.300"),(0,z.jsx)(l.Z,{style:{fontSize:(0,g.vw)(12),fontFamily:"Poppins_medium",color:"#33214B"},p:2,bg:r,rounded:"full",children:t})}})}),[S]),M=(0,i.useCallback)((0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(v.UK());case 3:return e.next=5,I(v.$3());case 5:return e.next=7,I(Z.DW());case 7:return e.next=9,I(v.V1(b));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),D("error","something went wrong.");case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[I,D,b]);(0,i.useEffect)((function(){H&&M().then((function(){}))}),[I,M,H]);var W=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),t=v.xX(O._id),e.next=5,I(t);case 5:return e.next=7,I(j.Ai());case 7:E(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),D("error",e.t0.message),E(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Y=100-parseFloat((0,g.vh)(70))+"vh";return(0,z.jsxs)(c.Z,{style:{minHeight:"100vh"},bg:"#F7F8FA",children:[(0,z.jsx)(y.default,{user:t,setLogout:r}),O?(0,z.jsxs)(c.Z,{style:{height:(0,g.vh)(Y)},children:[(0,z.jsxs)(c.Z,{style:{marginTop:(0,g.vh)(-10),marginHorizontal:(0,g.vw)(20),borderBottomColor:"rgba(0,0,0,0.15)",borderBottomWidth:1,justifyContent:"space-between",zIndex:99999,paddingBottom:(0,g.vh)(10)},children:[(0,z.jsx)(d._,{only:["sm","base"],children:(0,z.jsxs)(u.Z,{justifyContent:"space-between",children:[(0,z.jsxs)(l.Z,{style:{fontSize:(0,g.vw)(24),marginTop:(0,g.vh)(30),color:"#303030",fontFamily:"Poppins_medium"},children:["Property #",O.tid]}),(0,z.jsx)(l.Z,{style:{fontSize:(0,g.vw)(24),marginTop:(0,g.vh)(30),color:"#303030",fontFamily:"Poppins_medium"},children:O.propertyaddress})]})}),(0,z.jsx)(d._,{from:"md",children:(0,z.jsxs)(c.Z,{children:[(0,z.jsxs)(l.Z,{style:{fontSize:(0,g.vw)(24),marginTop:(0,g.vh)(10),color:"#303030",fontFamily:"Poppins_medium",textAlign:"center"},children:["Property #",O.tid]}),(0,z.jsx)(l.Z,{style:{fontSize:(0,g.vw)(24),marginTop:(0,g.vh)(10),color:"#303030",fontFamily:"Poppins_medium",textAlign:"center"},children:O.propertyaddress})]})})]}),(0,z.jsxs)(u.Z,{marginTop:(0,g.vh)(45),justifyContent:"space-between",children:[(0,z.jsxs)(c.Z,{style:{width:(0,g.vw)(255),height:(0,g.vh)(500),borderRightWidth:(0,g.vw)(1),borderRightColor:"rgba(0,0,0, 0.15)"},children:[(0,z.jsx)(p.ZP,{style:{height:(0,g.vh)(40),borderRightWidth:0===_?(0,g.vw)(3):0,borderRightColor:x.Z.primary,paddingHorizontal:(0,g.vw)(40)},onPress:function(){T(0)},children:(0,z.jsx)(l.Z,{style:{fontFamily:0===_?"Poppins_medium":"Poppins",fontSize:(0,g.vw)(15),color:0===_?x.Z.primary:"#686868",height:(0,g.vh)(40),lineHeight:(0,g.vh)(40)},children:"Info"})}),(0,z.jsx)(p.ZP,{style:{marginTop:(0,g.vh)(20),height:(0,g.vh)(40),borderRightWidth:1===_?(0,g.vw)(3):0,borderRightColor:x.Z.primary,paddingHorizontal:(0,g.vw)(40)},onPress:function(){T(1)},children:(0,z.jsx)(l.Z,{style:{fontFamily:1===_?"Poppins_medium":"Poppins",fontSize:(0,g.vw)(15),color:1===_?x.Z.primary:"#686868",height:(0,g.vh)(40),lineHeight:(0,g.vh)(40)},children:"Property"})}),(0,z.jsx)(p.ZP,{style:{marginTop:(0,g.vh)(20),height:(0,g.vh)(40),borderRightWidth:2===_?(0,g.vw)(3):0,borderRightColor:x.Z.primary,paddingHorizontal:(0,g.vw)(40)},onPress:function(){T(2)},children:(0,z.jsx)(l.Z,{style:{fontFamily:2===_?"Poppins_medium":"Poppins",fontSize:(0,g.vw)(15),color:2===_?x.Z.primary:"#686868",height:(0,g.vh)(40),lineHeight:(0,g.vh)(40)},children:"Campaign"})}),(0,z.jsx)(p.ZP,{style:{marginTop:(0,g.vh)(20),height:(0,g.vh)(40),paddingHorizontal:(0,g.vw)(40)},onPress:function(){w(-1)},children:(0,z.jsx)(l.Z,{style:{fontFamily:"Poppins",fontSize:(0,g.vw)(15),color:"#686868",height:(0,g.vh)(40),lineHeight:(0,g.vh)(40)},children:"Back to list"})})]}),(0,z.jsxs)(c.Z,{style:{paddingHorizontal:(0,g.vw)(40),justifyContent:"center",flex:1},children:[O&&0===_&&(0,z.jsx)(Ze,{_showAlert:D,property:O,statuslist:L,tagslist:B,searching:F,setSearching:E,doSmartSearch:W}),O&&1===_&&(0,z.jsx)(C,{_showAlert:D,property:O}),O&&2===_&&(0,z.jsx)(Fe,{_showAlert:D,property:O,searching:F,setSearching:E,doSmartSearch:W})]})]})]}):(0,z.jsx)(c.Z,{h:"full",flex:1,children:(0,z.jsx)(h.Z,{size:"sm"})})]})}},64186:function(e,t,r){r.d(t,{Ai:function(){return y},IU:function(){return g},c0:function(){return f},ck:function(){return x},gF:function(){return h},nm:function(){return v},x4:function(){return p}});var n=r(1413),a=r(74165),s=r(15861),i=r(92810),o=r(75247),l=r(73528),c=r.n(l),d=r(4200),u=function(e){if(e){var t=e.lastsub,r=e.freetrial&&e.freetrial;localStorage.setItem("@shadowuser",JSON.stringify({_id:e._id,team:e.team,owner:e._id===e.team,token:e.token,pic:e.pic?e.pic.id:0,email:e.email,firstname:e.firstname,invitecode:e.invitecode,lastname:e.lastname,name:e.firstname+" "+e.lastname,joined:e.created,customerId:e.customerId,pm:e.pm,role:e.role,freetrial:r,sub:{start:t&&t.start||null,end:t&&t.end||null,plan:e.plan&&e.plan.type||null},price:{mail:r&&r.mail||0,smartsearch:r&&r.smartsearch||0}}))}},p=function(e,t){return function(){var r=(0,s.Z)((0,a.Z)().mark((function r(n){var s,i,o,l,c,p;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("".concat(d.T5,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});case 3:if((s=r.sent).ok){r.next=14;break}return r.next=7,s.json();case 7:if(i=r.sent,console.log("Response Error",i.error),!i||!i.error){r.next=13;break}throw new Error(i.error);case 13:throw new Error("Something went wrong!");case 14:return r.next=16,s.json();case 16:return o=r.sent,l=o.data,(c=new Date).setFullYear(c.getFullYear()+5),p=c,u(l),r.next=24,n(m(l._id,l.token,p));case 24:return r.next=26,n(y());case 26:r.next=31;break;case 28:throw r.prev=28,r.t0=r.catch(0),new Error(r.t0.message);case 31:case"end":return r.stop()}}),r,null,[[0,28]])})));return function(e){return r.apply(this,arguments)}}()},h=function(e){return function(){var t=(0,s.Z)((0,a.Z)().mark((function t(r){var n,s,i,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(d.T5,"/forgot"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});case 2:if((n=t.sent).ok){t.next=10;break}return t.next=6,n.json();case 6:throw s=t.sent,i="Something went wrong!",s.error&&(i=s.error),new Error(i);case 10:return t.next=12,n.json();case 12:if(!(o=t.sent).error){t.next=15;break}throw new Error(o.error);case 15:return t.abrupt("return",o.success);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,s.Z)((0,a.Z)().mark((function t(r){var n,s,i,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(d.T5,"/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if((n=t.sent).ok){t.next=10;break}return t.next=6,n.json();case 6:throw s=t.sent,i="Something went wrong!",s.error&&(i=s.error),new Error(i);case 10:return t.next=12,n.json();case 12:return o=t.sent,t.abrupt("return",o.success);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t){return function(r){r({type:o.eK,userId:e,token:t})}},g=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,s,o,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(d.T5,"/register"),e.next=3,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,n.Z)((0,n.Z)({},t),{},{os:"W",device_id:(0,i.Z)()}))});case 3:if((s=e.sent).ok){e.next=14;break}return e.next=7,s.json();case 7:if(o=e.sent,console.log("Response Error",o.error),!o||!o.error){e.next=13;break}throw new Error(o.error);case 13:throw new Error("Something went wrong!");case 14:return e.next=16,s.json();case 16:return l=e.sent,e.abrupt("return",l.data);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=(0,s.Z)((0,a.Z)().mark((function t(r,s){var l,p,h,f,m,g,y,x,v;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l=(0,d.PR)(),p=l._id,h=l.token,t.next=4,fetch("".concat(d.T5,"/users/").concat(p),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}});case 4:if((f=t.sent).ok){t.next=17;break}return t.next=8,f.json();case 8:if(!(m=t.sent)||!m.error){t.next=14;break}throw"token expired or invalid token"===m.error&&localStorage.removeItem("@shadowuser"),new Error(m.error);case 14:throw new Error("Something went wrong!");case 15:t.next=24;break;case 17:return t.next=19,f.json();case 19:return g=t.sent,y=g.data,e||(x=(0,i.Z)(),r({type:o.Kh,data:(0,n.Z)((0,n.Z)({},y),{},{appId:x})}),r({type:o.fu,data:{fromDate:c()(y.created).format("YYYY-MM-DD"),isUserFilter:!1,refresh:!0}})),y&&(v=(0,d.PR)())&&u((0,n.Z)((0,n.Z)({},v),y)),t.abrupt("return",y);case 24:t.next=29;break;case 26:throw t.prev=26,t.t0=t.catch(0),new Error(t.t0.message);case 29:case"end":return t.stop()}}),t,null,[[0,26]])})));return function(e,r){return t.apply(this,arguments)}}()},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var r=(0,s.Z)((0,a.Z)().mark((function r(s,i){var l,c,p,h,f,m,g,y,x;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=(0,d.PR)(),c=l.token,p=e._id,delete e._id,h=JSON.stringify(e),r.next=6,fetch("".concat(d.T5,"/users/").concat(p),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c},body:h});case 6:if((f=r.sent).ok){r.next=18;break}return r.next=10,f.json();case 10:if(m=r.sent,g="Something went wrong!",console.log(m),!m.error){r.next=17;break}throw new Error(m.error);case 17:throw new Error(g);case 18:return r.next=20,f.json();case 20:(y=r.sent).data&&(x=(0,d.PR)(),u((0,n.Z)((0,n.Z)({},x),y.data)),t&&(e.changerole&&t.emit("user:role:changed",e),e.changeactive&&t.emit("user:status:changed",e)),s({type:o.Kh,data:y.data}));case 22:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},v=function(){return function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,r){var n,s,i,l,c,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,d.PR)(),s=n.token,e.prev=1,e.next=4,fetch("".concat(d.T5,"/faqs/get"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify({skip:0,filter:{active:!0}})});case 4:if((i=e.sent).ok){e.next=15;break}return e.next=8,i.json();case 8:if(l=e.sent,console.log("Response Error",l),!l||!l.error){e.next=14;break}throw new Error(l.error);case 14:throw new Error("Something went wrong!");case 15:return e.next=17,i.json();case 17:c=e.sent,u=c.data,t({type:o.ji,data:u}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t,r){return e.apply(this,arguments)}}()}},80904:function(e,t,r){r.d(t,{G:function(){return d}});var n=r(72791),a=r(21666),s=r(38549),i=r(99705),o=r(96346);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}var c=(0,i.R)(a.Z),d=(0,n.forwardRef)((function(e,t){var r=(0,s.n)("View",e),a=Object.assign({},r);return(0,o.M)(e)?null:n.createElement(c,l({},a,{ref:t}))}))},29699:function(e,t,r){r.d(t,{J:function(){return n}});var n=(0,r(78429).I)({viewBox:"0 0 24 24",d:"M0 12C-2.34822e-08 13.5759 0.310389 15.1363 0.913445 16.5922C1.5165 18.0481 2.40042 19.371 3.51472 20.4853C4.62902 21.5996 5.95189 22.4835 7.4078 23.0866C8.86371 23.6896 10.4241 24 12 24C13.5759 24 15.1363 23.6896 16.5922 23.0866C18.0481 22.4835 19.371 21.5996 20.4853 20.4853C21.5996 19.371 22.4835 18.0481 23.0866 16.5922C23.6896 15.1363 24 13.5759 24 12C24 10.4241 23.6896 8.86371 23.0866 7.4078C22.4835 5.95189 21.5996 4.62902 20.4853 3.51472C19.371 2.40042 18.0481 1.5165 16.5922 0.913446C15.1363 0.310389 13.5759 0 12 0C10.4241 0 8.86371 0.310389 7.4078 0.913446C5.95189 1.5165 4.62902 2.40042 3.51472 3.51472C2.40042 4.62902 1.5165 5.95189 0.913445 7.4078C0.310389 8.86371 -2.34822e-08 10.4241 0 12Z"})},62587:function(e,t,r){r.d(t,{U:function(){return n}});var n=(0,r(78429).I)({viewBox:"0 0 24 24",d:"M22 5H2V7.47961H22V5ZM22 10.4795H2V12.9591H22V10.4795ZM2 15.959H22V18.4386H2V15.959Z"})},92810:function(e,t,r){var n;r.d(t,{Z:function(){return u}});var a=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var o=function(e){return"string"===typeof e&&i.test(e)},l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!o(r))throw TypeError("Stringified UUID is invalid");return r};var u=function(e,t,r){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return d(n)}}}]);
//# sourceMappingURL=229.95cf19f2.chunk.js.map